(function(e){function t(t){for(var r,i,o=t[0],c=t[1],d=t[2],l=0,m=[];l<o.length;l++)i=o[l],s[i]&&m.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"f13b79a0"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,r){a=s[e]=[t,r]});t.push(a[2]=r);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(e),n=function(t){c.onerror=c.onload=null,clearTimeout(d);var a=s[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+n+")");i.type=r,i.request=n,a[1](i)}s[e]=void 0}};var d=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=d;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("1356"),s=a.n(r);s.a},"04cd":function(e,t,a){},"0780":function(e,t,a){"use strict";var r=a("da94"),s=a.n(r);s.a},"0edf":function(e,t,a){},"0fb5":function(e,t,a){},1356:function(e,t,a){},"1d88":function(e,t,a){"use strict";var r=a("c339"),s=a.n(r);s.a},"1df8":function(e,t,a){},3072:function(e,t,a){"use strict";var r=a("aca8"),s=a.n(r);s.a},"31aa":function(e,t,a){"use strict";var r=a("1df8"),s=a.n(r);s.a},3502:function(e,t,a){"use strict";var r=a("04cd"),s=a.n(r);s.a},"356c":function(e,t,a){},"3cee":function(e,t,a){"use strict";var r=a("55ef"),s=a.n(r);s.a},4600:function(e,t,a){},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return a(t)}function n(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="4678"},"48e4":function(e,t,a){"use strict";var r=a("824f"),s=a.n(r);s.a},"4b7b":function(e,t,a){"use strict";var r=a("356c"),s=a.n(r);s.a},5304:function(e,t,a){"use strict";var r=a("0edf"),s=a.n(r);s.a},"55ef":function(e,t,a){},5636:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("6762"),a("2fdb"),a("ac6a"),a("456d"),a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("div",{staticStyle:{width:"100%",transition:"all linear .5s","will-change":"auto",height:"100%",position:"absolute",top:"0px",left:"0px","z-index":"-1",background:"url(bg.jpg) no-repeat center","background-size":"cover"},style:e.dynamicBg}),a("v-layout",{attrs:{row:"","justify-center":"",fluid:""}},[a("v-flex",{staticClass:"navRouter",staticStyle:{"max-height":"80vh !important",overflow:"none"},attrs:{xs12:"",sm12:"",md2:""}},[a("router")],1),a("v-flex",{staticClass:"pa-1",staticStyle:{"min-height":"100vh !important"},attrs:{xs10:"",md8:""}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1),a("v-flex",{attrs:{md1:""}},[a("right-panel")],1)],1)],1)},n=[],i=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticStyle:{},attrs:{wrap:"",fluid:"",column:""}},[a("v-flex",{staticClass:"hidden-sm-and-up",attrs:{xs12:""}},[a("v-toolbar",{},[a("v-spacer"),a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}})],1)],1),a("v-flex",{attrs:{stylse:"position: sticky; top: 0px; left:"}},[a("v-navigation-drawer",{staticClass:"px-5 navbar ",staticStyle:{position:"absolute",top:"0px",left:"0px","max-height":"100vh"},attrs:{wisdth:"100%",temporary:e.$vuetify.breakpoint.smAndDown,"mobile-break-point":"sm-and-down",absolute:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-layout",{style:e.dynamicHeight,attrs:{row:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{"align-self-start":"",shrink:""}},[a("v-layout",{attrs:{wrap:"",row:"","justify-center":""}},[a("v-img",{attrs:{src:"logo.png",contain:"","aspect-ratio":"3","min-width":"240"}}),1==e.isLoggedIn()?a("v-flex",{attrs:{xs6:"","pl-3":""}},[a("h1",{staticClass:"subtitle-1"},[e._v(" Hello "+e._s(e.$root.$data.$name)+" ")]),a("v-btn",{attrs:{small:"",rounded:""},on:{click:e.logout}},[e._v(" Log Out ")])],1):a("v-flex",{attrs:{xs6:"","pl-3":""}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.$router.push("/")}}},[e._v(" Log in ")])],1)],1)],1),a("v-flex",{staticClass:"content",style:e.dynamicStyle,attrs:{"pa-1":"","align-self-start":""}},[a("v-list",{attrs:{rounded:"",dense:""}},[e._l(e.items,function(t,r){return[t.group?a("v-list-group",{key:r,attrs:{"prepend-icon":t.icon,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-subtitle",[e._v(e._s(t.name))])]},proxy:!0}],null,!0)},e._l(t.group,function(t,r){return a("v-list-item",{key:r,attrs:{to:t.route,link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(" "+e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-subtitle",[e._v(e._s(t.name))])],1)],1)}),1):[a("v-list-item",{attrs:{to:t.route}},[a("v-list-item-icon",[a("v-icon",[e._v(" "+e._s(t.icon))])],1),a("v-list-item-subtitle",[e._v(" "+e._s(t.name)+" ")])],1)]]})],2)],1)],1)],1)],1)],1)}),o=[],c={data:function(){return{mini:!0,drawer:!0,items:[{name:"Dashboard",icon:"account_circle",group:[{name:"Product Wise",icon:"list",route:"/productWise"},{name:"Users",icon:"account_circle",route:"/users"}]},{name:"Clients",icon:"account_circle",group:[{name:"Clients List",icon:"account_circle",route:"/clients"},{name:"Godown",icon:"store",route:"/godowns"},{name:"Projects",route:"/projects",icon:"assignment_ind"},{name:"Persons",route:"/persons",icon:"account_circle"},{name:"Job Card",route:"/jobcards",icon:"assignment"}]},{name:"Products",icon:"layers",group:[{name:"List",route:"/products",icon:"list"},{name:"Inventory",route:"/inventory",icon:"storage"},{name:"Vendor",route:"/vendors",icon:"people"}]},{name:"Purchase Order",route:"/purchase-orders",icon:"library_books"},{name:"Stock Transfer",route:"/stock-transfer",icon:"swap_horiz"}]}},computed:{dynamicStyle:function(){return this.$root.$data.$loggedIn?{filter:"",pointerEvents:"auto",transform:"scale(1)"}:{filter:"blur(6px)",pointerEvents:"none",transform:"scale(.9)"}},dynamicHeight:function(){return this.$vuetify.breakpoint.mdAndUp?{height:"100%"}:{}}},methods:{isLoggedIn:function(){return this.$root.$data.$loggedIn},logout:function(){var e=this;axios({baseURL:this.$config.baseUrl,url:"/logout",method:"GET"}).then(function(t){t&&(e.$router.push("/"),e.$root.$data.$loggedIn=!1)})}}},d=c,l=(a("3cee"),a("2877")),u=a("6544"),m=a.n(u),v=a("5bc1"),p=a("8336"),h=a("0e8f"),f=a("132d"),x=a("adda"),g=a("a722"),b=a("8860"),y=a("56b0"),k=a("da13"),E=a("5d23"),j=a("34c3"),w=a("f774"),S=a("2fa4"),T=a("71d9"),I=Object(l["a"])(d,i,o,!1,null,null,null),C=I.exports;m()(I,{VAppBarNavIcon:v["a"],VBtn:p["a"],VFlex:h["a"],VIcon:f["a"],VImg:x["a"],VLayout:g["a"],VList:b["a"],VListGroup:y["a"],VListItem:k["a"],VListItemContent:E["a"],VListItemIcon:j["a"],VListItemSubtitle:E["b"],VNavigationDrawer:w["a"],VSpacer:S["a"],VToolbar:T["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{staticClass:"px-5",attrs:{permanent:"",color:"rgba(0,0,0,0)"}})},$=[],O={},D=O,V=Object(l["a"])(D,P,$,!1,null,null,null),A=V.exports;m()(V,{VNavigationDrawer:w["a"]});var q={name:"home",components:{Router:C,rightPanel:A},computed:{dynamicBg:function(){return this.$root.$data.$loggedIn?{filter:"blur(6px)"}:{}}},data:function(){return{defaultBg:{height:"100%",background:"#F5F6F9; background: url(bg.jpg) no-repeat  center;background-size: cover; background-attachment: fixed"}}},mounted:function(){var e=this;axios({baseURL:"http://34.83.223.211/api/v1/",url:"/isLoggedIn"}).then(function(t){t&&(console.log(" this.$loggedIn -> ".concat(e.$loggedIn," AND ").concat(JSON.stringify(t),"  ")),e.$root.$data.$loggedIn||(e.$root.$data.$loggedIn=!0,e.$root.$data.$name=t.data.name,e.$router.push("/clients")))}).catch(function(t){t&&e.$root.$data.$loggedIn&&(e.$root.$data.$loggedIn=!1)})}},N=q,L=(a("034f"),a("7496")),M=Object(l["a"])(N,s,n,!1,null,null,null),R=M.exports;m()(M,{VApp:L["a"],VFlex:h["a"],VLayout:g["a"]});var H=a("8c4f"),U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("h1",[e._v(" Home ")])])],1)},B=[],F={name:"home",components:{}},W=F,G=Object(l["a"])(W,U,B,!1,null,null,null),z=G.exports;m()(G,{VFlex:h["a"],VLayout:g["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Address","data-vv-name":"address","error-messages":e.errors.collect("address")},model:{value:e.editedItem.address,callback:function(t){e.$set(e.editedItem,"address",t)},expression:"editedItem.address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min:3|max:64",expression:"'min:3|max:64'"}],attrs:{label:"Gst No","data-vv-name":"gst_name","error-messages":e.errors.collect("gst_name")},model:{value:e.editedItem.gst_no,callback:function(t){e.$set(e.editedItem,"gst_no",t)},expression:"editedItem.gst_no"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"State","data-vv-name":"state","error-messages":e.errors.collect("state")},model:{value:e.editedItem.state,callback:function(t){e.$set(e.editedItem,"state",t)},expression:"editedItem.state"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.enums.project_type,label:"Project Type","data-vv-name":"type","error-messages":e.errors.collect("type")},model:{value:e.editedItem.project_type,callback:function(t){e.$set(e.editedItem,"project_type",t)},expression:"editedItem.project_type"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.name",fn:function(t){return[a("router-link",{staticClass:"clickable",staticStyle:{cursor:"pointer"},attrs:{tag:"tr",to:t.item["client_id"]+"",append:""}},[a("td",[e._v(" "+e._s(t.item.name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},Y=[],Q=(a("96cf"),a("3b8d")),K=(a("0d6d"),{methods:{firstCharUpperCase:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}}),X=(a("8e6e"),a("bd86")),Z={props:{baseUrl:{type:String,default:"http://34.83.223.211/api/v1/"},endpoint:{type:String,required:!1}},data:function(){return{api:axios.create({baseURL:this.baseUrl,withCredentials:!0}),data:null,error:null,loading:!1}},methods:{query:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t){var a,r,s,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:for(this.loading=!0,e.prev=3,r=o.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=o[n];return e.next=7,(a=this.api)[t].apply(a,s);case 7:i=e.sent,this.data=i.data,this.error=null,this.$emit("success",i),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](3),this.data=null,this.error=e.t0.response,this.$emit("error",e.t0);case 18:this.loading=!1;case 19:case"end":return e.stop()}},e,this,[[3,13]])}));function t(t){return e.apply(this,arguments)}return t}()}};function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(X["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ae={mixins:[Z],props:{entity:{type:Object},filter:{type:Object}},watch:{filter:{immediate:!0,handler:"load"}},data:function(){return{data:this.entity||null}},methods:{load:function(){return this.query("get",this.endpoint,{params:te({},this.data,{},this.filter)})},generateItems:function(e,t){var a=[];return e.forEach(function(e,t){a.push({text:e.name,value:e.key})}),a},validate:function(){this.$validator.validateAll()}},render:function(){return this.$scopedSlots.default({data:this.data,error:this.error,load:this.load,loading:this.loading,generateItems:this.generateItems,validate:this.validate})}},re=(a("7514"),a("c5f6"),{mixins:[Z],props:{entity:{type:Object},id:{type:[Number,String]}},data:function(){return{data:this.entity||null}},created:function(){this.id&&!this.data&&this.find()},methods:{create:function(e){return this.query("post",this.endpoint,e)},remove:function(e){return this.query("delete","".concat(this.endpoint),{data:e})},find:function(){return this.query("get","".concat(this.endpoint))},update:function(e){return this.query("patch","".concat(this.endpoint),e)},approve:function(e){return this.query("patch","".concat(this.endpoint,"/accept/").concat(e))},dynamic:function(e,t,a){return this.query(t,"".concat(this.endpoint,"/").concat(e),a)}},render:function(){return this.$scopedSlots.default({create:this.create,data:this.data,remove:this.remove,loading:this.loading,update:this.update,error:this.error,approve:this.approve,dynamic:this.dynamic})}}),se={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(se);var ne={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"clients",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"ID",value:"client_id"},{text:"Name",value:"name"},{text:"State",value:"state"},{text:"Address",value:"address"},{text:"Project Type",value:"project_type"},{text:"Actions",value:"actions"}],enums:{project_type:["commercial","residential","industrial"]},editedIndex:-1,editedItem:{name:"",state:"",address:"",gst_no:"",project_type:""},defaultItem:{name:"",state:"",address:"",gst_no:"",project_type:""},snackbar:{visible:!1,state:!1,message:""},methodsEnums:se,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({client_id:this.editedItem.client_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},ie=ne,oe=(a("1d88"),a("b0af")),ce=a("99d9"),de=a("a523"),le=a("8fea"),ue=a("169a"),me=a("b974"),ve=a("2db4"),pe=a("8654"),he=Object(l["a"])(ie,J,Y,!1,null,null,null),fe=he.exports;m()(he,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSelect:me["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{rows:"","justify-end":"","pr-5":""}},[a("v-flex",{attrs:{"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{lg6:"",shrink:""}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("data-list",{attrs:{endpoint:"clients"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return a("div",{},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{label:"Clients",error:s,"error-messages":s?s.statusText+". Try Reloading the page":"",loading:!s&&n?n:"",items:n||s?[]:e.generateItems(r.results),"data-vv-name":"client_names"},model:{value:e.editedItem.client_id,callback:function(t){e.$set(e.editedItem,"client_id",t)},expression:"editedItem.client_id"}})],1)}}],null,!1,341729477)})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:128",expression:"'required|min:6|max:128'"}],attrs:{label:"Godown Address","data-vv-name":"address","error-messages":e.errors.collect("address")},model:{value:e.editedItem.address,callback:function(t){e.$set(e.editedItem,"address",t)},expression:"editedItem.address"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},ge=[],be={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(be);var _e={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"godowns",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,schema:{godown_id:{text:"Godown ID","v-validate":"'integer'",value:"godown_id",edit_value:"'integer'",default:0,ignore:!0},name:{text:"Godown Name","v-validate":"'required|min:3|max:64'",value:"name",edit_value:"'min:3|max:64'",default:0},site_address:{text:"Godown Address","v-validate":"'required|min:3|max:128'",value:"address",edit_value:"'min:3|max:128'",default:0},client_name:{text:"Client Name",type:"select","v-validate":"'required'",value:"client_name",default:0}},items:[],options:{},headers:[],editedIndex:-1,editedItem:{godown_id:0,name:"",address:"",client_name:"",client_id:null},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0},snackbar:{visible:!1,state:!1,message:""},methodsEnums:be,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.headers=this.generateHeaders(this.schema);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e){var t=[];return t.push({text:"none",value:null}),e.forEach(function(e,a){t.push({text:e.name,value:e.client_id})}),t},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.client_id=String(e.client_id),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({godown_id:this.editedItem.godown_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},ye=_e,ke=(a("653e"),a("a844")),Ee=Object(l["a"])(ye,xe,ge,!1,null,null,null),je=Ee.exports;m()(Ee,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSelect:me["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"],VTextarea:ke["a"]});var we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{rows:"","justify-end":"","pr-5":""}},[a("v-flex",{attrs:{"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{lg6:"",shrink:""}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[e.userMethod==e.methodsEnums.POST?[a("form-jobcard",{ref:"form_child",attrs:{form:e.currentItem,isEdit:e.userMethod==e.methodsEnums.PATCH},on:{"update:form":function(t){e.currentItem=t},init:function(t){e.child_loaded=!0}}})]:e.userMethod==e.methodsEnums.PATCH?[a("edit-form",{ref:"edit_form",attrs:{form:e.currentItem,isEdit:e.userMethod==e.methodsEnums.PATCH},on:{"update:form":function(t){e.currentItem=t},init:function(t){e.child_loaded=!0}}})]:e._e()],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}}],null,!0)})],1)}}])})],1)],1)},Se=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",e._b({attrs:{wrap:""}},"v-layout",e.$attrs,!1),[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Clients",loading:!(e.extras.clients.error||!e.extras.clients.loading)&&e.extras.clients.loading,items:e.extras.clients.loading||e.extras.clients.error?[]:e.extras.clients.data,"data-vv-name":"client_names","error-messages":e.errors.collect("client_names")},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Projects",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.extras.projects.data,"data-vv-name":"project_names","error-messages":e.errors.collect("project_names")},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Persons",loading:!(e.extras.persons.error||!e.extras.persons.loading)&&e.extras.persons.loading,items:e.extras.persons.loading||e.extras.persons.error?[]:e.extras.persons.data,"data-vv-name":"person_names","error-messages":e.errors.collect("person_names")},model:{value:e.form.person_id,callback:function(t){e.$set(e.form,"person_id",t)},expression:"form.person_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Location","data-vv-name":"location","error-messages":e.errors.collect("location")},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required|min:1",expression:"'numeric|required|min:1'"}],attrs:{label:"Revision","data-vv-name":"revision","error-messages":e.errors.collect("revision")},model:{value:e.form.revision,callback:function(t){e.$set(e.form,"revision",t)},expression:"form.revision"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Site Supervisor","data-vv-name":"site_supervisor","error-messages":e.errors.collect("site_supervisor")},model:{value:e.form.site_supervisor,callback:function(t){e.$set(e.form,"site_supervisor",t)},expression:"form.site_supervisor"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Autocad Engineer","data-vv-name":"autocad_engineer","error-messages":e.errors.collect("autocad_engineer")},model:{value:e.form.autocad_engineer,callback:function(t){e.$set(e.form,"autocad_engineer",t)},expression:"form.autocad_engineer"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Plan Approved By","data-vv-name":"plan_approved_by","error-messages":e.errors.collect("plan_approved_by")},model:{value:e.form.plan_approved_by,callback:function(t){e.$set(e.form,"plan_approved_by",t)},expression:"form.plan_approved_by"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Labour Contractor","data-vv-name":"labour_contractor","error-messages":e.errors.collect("labour_contractor")},model:{value:e.form.labour_contractor,callback:function(t){e.$set(e.form,"labour_contractor",t)},expression:"form.labour_contractor"}})],1),a("v-btn",{on:{click:e.newHeading}},[e._v(" Add Product ")]),e.form.products_headings.length>0?a("v-flex",{attrs:{xs12:""}},e._l(e.form.products_headings,function(t,r){return a("v-layout",{staticStyle:{"border-radius":"15px"},attrs:{"my-5":"","pa-5":""}},[a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Heading","data-vv-name":"heading_"+r,"error-messages":e.errors.collect("heading_"+r)},model:{value:e.form.products_headings[r].heading,callback:function(t){e.$set(e.form.products_headings[r],"heading",t)},expression:"form.products_headings[index].heading"}})],1),a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Sub-heading","data-vv-name":"subheading"+r,"error-messages":e.errors.collect("subheading"+r)},model:{value:e.form.products_headings[r].subheading,callback:function(t){e.$set(e.form.products_headings[r],"subheading",t)},expression:"form.products_headings[index].subheading"}})],1),e._l(t.pItems,function(t,s){return[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Product",loading:!e.extras.products_headings[r][s].loading&&!e.extras.products_headings[r][s].loading&&!e.extras.products_headings[r][s].loading,items:e.extras.products_headings[r][s].loading&&e.extras.products_headings[r][s].error?!e.extras.products_headings[r][s].data:[],"data-vv-name":"product_"+r+"_"+s,"error-messages":"product_"+r+"_"+s},model:{value:e.form.products_headings[r][s].pid,callback:function(t){e.$set(e.form.products_headings[r][s],"pid",t)},expression:"form.products_headings[index][ii].pid"}})]})],2)}),1):e._e()],1)},Ie=[],Ce={name:"project-form",mixins:[],props:{form:{type:Object,required:!0},isEdit:{type:Boolean}},components:{DataList:ae},data:function(){var e;return{ready:!1,default:(e={client_id:0,project_id:0,person_id:0,location:"",revision:0,date:null,site_supervisor:"",autocad_engineer:"",plan_approved_by:"",labour_contractor:""},Object(X["a"])(e,"person_id",0),Object(X["a"])(e,"products_headings",[]),e),extras:{clients:{data:[],loading:!0,error:!1,loaded:!1},projects:{data:[],loading:!0,error:!1,loaded:!1},persons:{data:[],loading:!0,error:!1,loaded:!1},products_headings:{}},baseUrl:"http://34.83.223.211/api/v1/"}},watch:{"form.client_id":{deep:!0,handler:function(e,t){var a=this;e&&this.ready&&(this.form.project_id=null,this.form.person_id=null,axios.get(this.baseUrl+"projects",{params:{client_id:this.form.client_id}}).then(function(e){a.extras["projects"].data=a.generateItems(e.data.results,"project_id"),a.extras["projects"].loading=!1,a.extras["projects"].error=!1}).catch(function(e){a.extras["projects"].error=!0,a.extras["projects"].loading=!1,a.extras["projects"].data=[]}))}},"form.project_id":function(e,t){var a=this;e&&this.ready&&(this.form.person_id=null,axios.get(this.baseUrl+"persons",{params:{project_id:this.form.project_id}}).then(function(e){a.extras["persons"].data=a.generateItems(e.data.results,"person_id"),a.extras["persons"].loading=!1,a.extras["persons"].error=!1}).catch(function(e){a.extras["persons"].error=!0,a.extras["persons"].loading=!1,a.extras["persons"].data=[]}))}},created:function(){var e=this;this.form.products_headings.forEach(function(t,a,r){a.pItems.forEach(function(t,r,s){e.extras["product_headings"][a][r].loading=!0,e.extras["product_headings"][a][r].error=!1,e.extras["product_headings"][a][r].data=[]})}),this.isEdit||(this.ready=!0)},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("init"),axios.get(this.baseUrl+"clients",{params:{}}).then(function(e){t.extras["clients"].data=t.generateItems(e.data.results,"client_id"),t.extras["clients"].loading=!1,t.extras["clients"].error=!1}).catch(function(e){t.extras["clients"].error=!0,t.extras["clients"].loading=!1,t.extras["clients"].data=[]}),this.isEdit&&axios.get(this.baseUrl+"projects",{params:{}}).then(function(e){e&&(t.extras["projects"].data=t.generateItems(e.data.results,"project_id"),t.extras["projects"].loading=falseto,t.extras["projects"].error=!1,axios.get(t.baseUrl+"persons",{params:{}}).then(function(e){e&&(t.extras["persons"].data=t.generateItems(e.data.results,"person_id"),t.extras["persons"].loading=!1,t.extras["persons"].error=!1,t.$nextTick(function(){alert("ticked"),t.ready=!0}))}).catch(function(e){t.extras["persons"].error=!0,t.extras["persons"].loading=!1,t.extras["persons"].data=[]}))}).catch(function(e){t.extras["projects"].error=!0,t.extras["projects"].loading=!1,t.extras["projects"].data=[]});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{newHeading:function(){alert("yo")},formSubmit:function(){this.$validator.validateAll().then(function(e){})},validate:function(){var e=this;return new Promise(function(t,a){e.$validator.validateAll().then(function(a){t(e.form)}).catch(function(e){a(e)})})},cloneData:function(e,t,a){this.extras[t].data=this.generateItems(e.data.results,a),this.extras[t].loading=!0},cloneError:function(e){this.extras.clients.error=!0,this.extras.clients.loading=!1},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a}}},Pe=Ce,$e=a("c6a6"),Oe=Object(l["a"])(Pe,Te,Ie,!1,null,null,null),De=Oe.exports;m()(Oe,{VAutocomplete:$e["a"],VBtn:p["a"],VFlex:h["a"],VLayout:g["a"],VTextField:pe["a"]});var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",e._b({attrs:{wrap:""}},"v-layout",e.$attrs,!1),[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Clients",loading:!(e.extras.clients.error||!e.extras.clients.loading)&&e.extras.clients.loading,items:e.extras.clients.loading||e.extras.clients.error?[]:e.extras.clients.data,"data-vv-name":"client_names","error-messages":e.errors.collect("client_names")},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Projects",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.extras.projects.data,"data-vv-name":"project_names","error-messages":e.errors.collect("project_names")},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Persons",loading:!(e.extras.persons.error||!e.extras.persons.loading)&&e.extras.persons.loading,items:e.extras.persons.loading||e.extras.persons.error?[]:e.extras.persons.data,"data-vv-name":"person_names","error-messages":e.errors.collect("person_names")},model:{value:e.form.person_id,callback:function(t){e.$set(e.form,"person_id",t)},expression:"form.person_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Location","data-vv-name":"location","error-messages":e.errors.collect("location")},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required|min:1",expression:"'numeric|required|min:1'"}],attrs:{label:"Revision","data-vv-name":"revision","error-messages":e.errors.collect("revision")},model:{value:e.form.revision,callback:function(t){e.$set(e.form,"revision",t)},expression:"form.revision"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Site Supervisor","data-vv-name":"site_supervisor","error-messages":e.errors.collect("site_supervisor")},model:{value:e.form.site_supervisor,callback:function(t){e.$set(e.form,"site_supervisor",t)},expression:"form.site_supervisor"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Autocad Engineer","data-vv-name":"autocad_engineer","error-messages":e.errors.collect("autocad_engineer")},model:{value:e.form.autocad_engineer,callback:function(t){e.$set(e.form,"autocad_engineer",t)},expression:"form.autocad_engineer"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Plan Approved By","data-vv-name":"plan_approved_by","error-messages":e.errors.collect("plan_approved_by")},model:{value:e.form.plan_approved_by,callback:function(t){e.$set(e.form,"plan_approved_by",t)},expression:"form.plan_approved_by"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Labour Contractor","data-vv-name":"labour_contractor","error-messages":e.errors.collect("labour_contractor")},model:{value:e.form.labour_contractor,callback:function(t){e.$set(e.form,"labour_contractor",t)},expression:"form.labour_contractor"}})],1),a("v-btn",{on:{click:e.newHeading}},[e._v(" Add Product ")]),e.form.products_headings.length>0?a("v-flex",{attrs:{xs12:""}},e._l(e.form.products_headings,function(t,r){return a("v-layout",{staticStyle:{"border-radius":"15px"},attrs:{"my-5":"","pa-5":""}},[a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Heading","data-vv-name":"heading_"+r,"error-messages":e.errors.collect("heading_"+r)},model:{value:e.form.products_headings[r].heading,callback:function(t){e.$set(e.form.products_headings[r],"heading",t)},expression:"form.products_headings[index].heading"}})],1),a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Sub-heading","data-vv-name":"subheading"+r,"error-messages":e.errors.collect("subheading"+r)},model:{value:e.form.products_headings[r].subheading,callback:function(t){e.$set(e.form.products_headings[r],"subheading",t)},expression:"form.products_headings[index].subheading"}})],1),e._l(t.pItems,function(t,s){return[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Product",loading:!e.extras.products.loading&&!e.extras.products[r][s].loading&&!e.extras.products[r][s].loading,items:e.extras.products[r][s].loading&&e.extras.products[r][s].error?!e.extras.products[r][s].data:[],"data-vv-name":"product_"+r+"_"+s,"error-messages":"product_"+r+"_"+s},model:{value:e.form.products_headings[r][s].pid,callback:function(t){e.$set(e.form.products_headings[r][s],"pid",t)},expression:"form.products_headings[index][ii].pid"}})]})],2)}),1):e._e()],1)},Ae=[],qe={name:"project-form",mixins:[],props:{form:{type:Object,required:!0},isEdit:{type:Boolean}},components:{DataList:ae},data:function(){var e;return{ready:!1,default:(e={client_id:0,project_id:0,person_id:0,location:"",revision:1,date:null,site_supervisor:"",autocad_engineer:"",plan_approved_by:"",labour_contractor:""},Object(X["a"])(e,"person_id",0),Object(X["a"])(e,"products_headings",[]),e),extras:{clients:{data:[],loading:!0,error:!1,loaded:!1},projects:{data:[],loading:!0,error:!1,loaded:!1},persons:{data:[],loading:!0,error:!1,loaded:!1},products_headings:{}},baseUrl:"http://34.83.223.211/api/v1/"}},watch:{"form.client_id":{deep:!0,handler:function(e,t){var a=this;e&&(this.form.project_id=null,this.form.person_id=null,axios.get(this.baseUrl+"projects",{params:{client_id:this.form.client_id}}).then(function(e){a.extras["projects"].data=a.generateItems(e.data.results,"project_id"),a.extras["projects"].loading=!1,a.extras["projects"].error=!1}).catch(function(e){a.extras["projects"].error=!0,a.extras["projects"].loading=!1,a.extras["projects"].data=[]}))}},"form.project_id":function(e,t){var a=this;e&&(this.form.person_id=null,axios.get(this.baseUrl+"persons",{params:{project_id:this.form.project_id}}).then(function(e){a.extras["persons"].data=a.generateItems(e.data.results,"person_id"),a.extras["persons"].loading=!1,a.extras["persons"].error=!1}).catch(function(e){a.extras["persons"].error=!0,a.extras["persons"].loading=!1,a.extras["persons"].data=[]}))}},created:function(){var e=this;this.form.products_headings.forEach(function(t,a,r){a.pItems.forEach(function(t,r,s){e.extras["product_headings"][a][r].loading=!0,e.extras["product_headings"][a][r].error=!1,e.extras["product_headings"][a][r].data=[]})})},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("init"),axios.get(this.baseUrl+"clients",{params:{}}).then(function(e){t.extras["clients"].data=t.generateItems(e.data.results,"client_id"),t.extras["clients"].loading=!1,t.extras["clients"].error=!1}).catch(function(e){t.extras["clients"].error=!0,t.extras["clients"].loading=!1,t.extras["clients"].data=[]}),axios.get(this.baseUrl+"projects",{params:{}}).then(function(e){e&&(t.extras["projects"].data=t.generateItems(e.data.results,"project_id"),t.extras["projects"].loading=falseto,t.extras["projects"].error=!1,axios.get(t.baseUrl+"persons",{params:{}}).then(function(e){e&&(t.extras["persons"].data=t.generateItems(e.data.results,"person_id"),t.extras["persons"].loading=!1,t.extras["persons"].error=!1,t.$nextTick(function(){alert("ticked")}))}).catch(function(e){t.extras["persons"].error=!0,t.extras["persons"].loading=!1,t.extras["persons"].data=[]}))}).catch(function(e){t.extras["projects"].error=!0,t.extras["projects"].loading=!1,t.extras["projects"].data=[]}),axios.get(this.baseUrl+"clients",{params:{}}).then(function(e){t.extras["products_headings"].data=t.generateItems(e.data.results,"product_id"),t.extras["products_headings"].loading=!1,t.extras["products_headings"].error=!1}).catch(function(e){t.extras["products_headings"].error=!0,t.extras["products_headings"].loading=!1,t.extras["products_headings"].data=[]});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{newHeading:function(){alert("yo")},formSubmit:function(){this.$validator.validateAll().then(function(e){})},validate:function(){var e=this;return new Promise(function(t,a){e.$validator.validateAll().then(function(a){t(e.form)}).catch(function(e){a(e)})})},cloneData:function(e,t,a){this.extras[t].data=this.generateItems(e.data.results,a),this.extras[t].loading=!0},cloneError:function(e){this.extras.clients.error=!0,this.extras.clients.loading=!1},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a}}},Ne=qe,Le=Object(l["a"])(Ne,Ve,Ae,!1,null,null,null),Me=Le.exports;m()(Le,{VAutocomplete:$e["a"],VBtn:p["a"],VFlex:h["a"],VLayout:g["a"],VTextField:pe["a"]});var Re={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(Re);var He={extends:K,components:{DataList:ae,DataModel:re,formJobcard:De,editForm:Me},data:function(){return{endpoint:"jobcards",child_loaded:!1,currentItem:{},search:"",dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Jobcard ID",value:"jobcard_id"},{text:"Project Name",value:"project_name"},{text:"Person Name",value:"person_name"},{text:"Site Supervisor",value:"site_supervisor"},{text:"Client Name",value:"client_name"},{text:"Actions",value:"actions"}],editedIndex:-1,editedItem:{},defaultItem:{},snackbar:{visible:!1,state:!1,message:""},methodsEnums:Re,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()},child_loaded:function(){this.currentItem=this.$refs.form_child.form}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e){var t=[];return t.push({text:"none",value:null}),e.forEach(function(e,a){t.push({text:e.name,value:Number(e.client_id)})}),t},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.jobcard_id=String(e.jobcard_id),this.currentItem=Object.assign({},e),this.keyHack(),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){switch(this.userMethod){case this.methodsEnums.POST:this.$refs.form_child.validate().then(function(t){console.log(t),e.functions.create(t)});break;case this.methodsEnums.PATCH:this.$refs.form_child.validate().then(function(t){t.products_headings=JSON.stringify(t.products_headings),e.functions.update(t)});break;case this.methodsEnums.DELETE:e.functions.remove({jobcard_id:this.editedItem.jobcard_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},Ue=He,Be=(a("e63a"),Object(l["a"])(Ue,we,Se,!1,null,"645a26cd",null)),Fe=Be.exports;m()(Be,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VLayout:g["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("data-list",{attrs:{endpoint:"clients"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return a("div",{},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Clients",error:s,"error-messages":s?s.statusText+". Try Reloading the page":"",loading:!s&&n?n:"",items:n||s?[]:e.generateItems(r.results),"data-vv-name":"client_names"},model:{value:e.editedItem.client_id,callback:function(t){e.$set(e.editedItem,"client_id",t)},expression:"editedItem.client_id"}})],1)}}],null,!1,1961781317)})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:128",expression:"'required|min:6|max:128'"}],attrs:{label:"Site Address","data-vv-name":"site_address","error-messages":e.errors.collect("site_address")},model:{value:e.editedItem.site_address,callback:function(t){e.$set(e.editedItem,"site_address",t)},expression:"editedItem.site_address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Godown Name","data-vv-name":"godown name","error-messages":e.errors.collect("godown_name")},model:{value:e.editedItem.godown_name,callback:function(t){e.$set(e.editedItem,"godown_name",t)},expression:"editedItem.godown_name"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:"projects"},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:"projects"},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}},{key:"item.dashboard",fn:function(t){var r=t.item;return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"projectWise",params:{id:r.project_id}}}},[a("div",[e._v(" Open ")])])]}}],null,!0)})],1)}}])})],1)],1)},Ge=[],ze={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(ze);var Je={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{search:"",dialog:!1,dialog_key:0,dl_key:0,dialog_loading:!1,schema:{project_id:{text:"Project ID","v-validate":"'integer'",value:"project_id",edit_value:"'integer'",default:0,ignore:!0},name:{text:"Project Name","v-validate":"'required|min:3|max:64'",value:"name",edit_value:"'min:3|max:64'",default:0},site_address:{text:"Project Address","v-validate":"'required|min:3|max:128'",value:"site_address",edit_value:"'min:3|max:128'",default:0},client_name:{text:"Client Name",type:"select","v-validate":"'required'",value:"client_name",default:0},dashboard:{text:"Dashboard",type:"select","v-validate":"'required'",value:"dashboard",default:0}},items:[],options:{},headers:[],editedIndex:-1,editedItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0,godown_name:""},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0},snackbar:{visible:!1,state:!1,message:""},methodsEnums:ze,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.headers=this.generateHeaders(this.schema);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e){var t=[];return e.forEach(function(e,a){t.push({text:e.name,value:e.client_id})}),t},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(console.log(e.functions),this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({project_id:this.editedItem.project_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},Ye=Je,Qe=(a("31aa"),Object(l["a"])(Ye,We,Ge,!1,null,null,null)),Ke=Qe.exports;m()(Qe,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSelect:me["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"],VTextarea:ke["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px","text-align":"center"},attrs:{"pa-5":"",row:"","justify-center":""}},[a("v-flex",{attrs:{shrink:""}},[a("data-list",{key:e.dl_key,attrs:{endpoint:"inventory/project",entity:{project_id:e.$route.params.id}},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=(t.error,t.loading);return a("div",{},[a("v-flex",{attrs:{shrink:"","my-4":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(r.result[0].project_name)+" ")])]),a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{loading:s,headers:e.headers,items:r.result,search:e.search},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},Ze=[],et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",e._b({attrs:{wrap:""}},"v-layout",e.$attrs,!1),[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Subject","data-vv-name":"subject","error-messages":e.errors.collect("subject")},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:1|max:64",expression:"'required|min:1|max:64'"}],attrs:{label:"Ref","data-vv-name":"ref","error-messages":e.errors.collect("ref"),hint:"Must Be A Letters","persistent-hint":""},model:{value:e.form.ref,callback:function(t){e.$set(e.form,"ref",t)},expression:"form.ref"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Vendors",loading:!(e.extras.vendors.error||!e.extras.vendors.loading)&&e.extras.vendors.loading,items:e.extras.vendors.loading||e.extras.vendors.error?[]:e.extras.vendors.data,"data-vv-name":"vendor_name","error-messages":e.errors.collect("vendor_name"),type:"search"},model:{value:e.form.vendor_id,callback:function(t){e.$set(e.form,"vendor_id",t)},expression:"form.vendor_id"}})],1),a("v-flex",{attrs:{xs12:"","mb-5":""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-icon":"event",readonly:"",label:"Date","data-vv-name":"date","error-messages":e.errors.collect("date")},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.menu=!1}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),a("v-flex",{staticStyle:{border:"1px solid rgba(0,0,0,.1)","border-radius":"12px"},attrs:{xs12:"","pa-3":"","my-5":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md10:"",shrink:""}},[a("h1",{staticClass:"title"},[e._v(" Products ")])]),a("v-flex",{attrs:{xs12:"",md2:"",shrink:""}},[a("v-btn",{attrs:{rounded:"",color:"red"},on:{click:e.newProduct}},[e._v(" Add Product ")])],1)],1),e.form.products.length>0?a("transition-group",{attrs:{name:"fade"}},e._l(e.form.products,function(t,r){return a("v-layout",{key:r,staticStyle:{"border-radius":"15px"},attrs:{wrap:"","my-1":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Products",items:e.products?e.products:[],"data-vv-name":"product_name_"+r,"error-messages":e.errors.collect("product_name_"+r),type:"search"},model:{value:e.form.products[r].product_id,callback:function(t){e.$set(e.form.products[r],"product_id",t)},expression:"form.products[index].product_id"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{loading:e.extras.projects.loading,items:e.extras.projects.data,label:"Project ID","data-vv-name":"project_id","error-messages":e.errors.collect("project_id")},model:{value:e.form.products[r].project_id,callback:function(t){e.$set(e.form.products[r],"project_id",t)},expression:"form.products[index].project_id"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min:1",expression:"'required|numeric|min:1'"}],attrs:{label:"Quantity","data-vv-name":"quantity_"+r,"error-messages":e.errors.collect("quantity_"+r)},model:{value:e.form.products[r].quantity,callback:function(t){e.$set(e.form.products[r],"quantity",t)},expression:"form.products[index].quantity"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal|min:1",expression:"'required|decimal|min:1'"}],attrs:{label:"Rate","data-vv-name":"rate_"+r,"error-messages":e.errors.collect("rate_"+r)},model:{value:e.form.products[r].avg_rate,callback:function(t){e.$set(e.form.products[r],"avg_rate",t)},expression:"form.products[index].avg_rate"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal|min:1",expression:"'required|decimal|min:1'"}],attrs:{label:"Delivered","data-vv-name":"rate_"+r,"error-messages":e.errors.collect("rate_"+r)},model:{value:e.form.products[r].delivered,callback:function(t){e.$set(e.form.products[r],"delivered",t)},expression:"form.products[index].delivered"}})],1),a("v-icon",{attrs:{"pa-2":"","my-2":""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" delete ")])],1)],1)],1)}),1):e._e()],1),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"title"},[e._v(" Terms Of Service ")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Payment","data-vv-name":"tac.payment","error-messages":e.errors.collect("tac.payment")},model:{value:e.form.tac.payment,callback:function(t){e.$set(e.form.tac,"payment",t)},expression:"form.tac.payment"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Remarks","data-vv-name":"tac.remarks","error-messages":e.errors.collect("tac.remarks")},model:{value:e.form.tac.remarks,callback:function(t){e.$set(e.form.tac,"remarks",t)},expression:"form.tac.remarks"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tax Type","data-vv-name":"tac.tax_type","error-messages":e.errors.collect("tac.tax_type"),items:e.enums.tac},model:{value:e.form.tac.tax_type,callback:function(t){e.$set(e.form.tac,"tax_type",t)},expression:"form.tac.tax_type"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Warranty","data-vv-name":"tac.warranty","error-messages":e.errors.collect("tac.warranty")},model:{value:e.form.tac.warranty,callback:function(t){e.$set(e.form.tac,"warranty",t)},expression:"form.tac.warranty"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{label:"Delivery Period","data-vv-name":"tac.delivery_period","error-messages":e.errors.collect("tac.delivery_period")},model:{value:e.form.tac.delivery_period,callback:function(t){e.$set(e.form.tac,"delivery_period",t)},expression:"form.tac.delivery_period"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],attrs:{label:"Tax Price","data-vv-name":"tac.tax_price","error-messages":e.errors.collect("tac.tax_price")},model:{value:e.form.tac.tax_price,callback:function(t){e.$set(e.form.tac,"tax_price",t)},expression:"form.tac.tax_price"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{items:["inclusive","extra at actual"],label:"Freight Tax","data-vv-name":"tac.freight_tax","error-messages":e.errors.collect("tac.freight_tax")},model:{value:e.form.tac.freight_tax,callback:function(t){e.$set(e.form.tac,"freight_tax",t)},expression:"form.tac.freight_tax"}})],1)],1)},tt=[],at=a("c1df"),rt=a.n(at),st={name:"project-form",mixins:[],props:{form:{type:Object,required:!0},products:{type:Array,required:!0},refProducts:{type:Object,required:!0}},components:{DataList:ae},data:function(){return{menu:!1,extras:{vendors:{data:[],loading:!0,error:!1,loaded:!1},projects:{loading:!0,error:!1,data:[]}},enums:{tac:[{text:"all inclusive in price",value:"all inclusive in price"},{text:"gst extra as applicable",value:"gst extra as applicable"},{text:"gst as mentioned",value:"gst as mentioned"}]},baseUrl:"http://34.83.223.211/api/v1/"}},watch:{"form.date":{deep:!0,handler:function(e){}}},mounted:function(){this.$emit("init"),this.$nextTick(function(){})},computed:{},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios.get(this.baseUrl+"vendors",{withCredentials:!0});case 2:t=e.sent,t&&(this.extras.vendors.loading=!1,this.extras.vendors.error=!1,this.extras.vendors.data=this.generateItems(t.data.results,"vendor_id")),this.getProjects();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{newProduct:function(){var e={product_id:-1,project_id:-1,quantity:0,avg_rate:0,delivered:0};this.form.products.push(e)},deleteItem:function(e){this.form.products.splice(e,1)},formSubmit:function(){this.$validator.validateAll().then(function(e){})},validate:function(){var e=this;return new Promise(function(t,a){e.$validator.validateAll().then(function(a){t(e.form)}).catch(function(e){a(e)})})},cloneData:function(e,t,a){this.extras[t].data=this.generateItems(e.data.results,a),this.extras[t].loading=!0},cloneError:function(e){this.extras.clients.error=!0,this.extras.clients.loading=!1},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},getProjects:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,withCredentials:!0,url:"projects",params:{client_id:this.form.client_id}});case 2:t=e.sent,t.data.results&&(this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},nt=st,it=(a("3072"),a("2e4b")),ot=a("e449"),ct=Object(l["a"])(nt,et,tt,!1,null,null,null),dt=ct.exports;m()(ct,{VAutocomplete:$e["a"],VBtn:p["a"],VDatePicker:it["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VMenu:ot["a"],VSelect:me["a"],VTextField:pe["a"]});var lt=a("2ef0"),ut=a.n(lt),mt={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(mt);var vt={extends:K,components:{DataList:ae,DataModel:re,EditPo:dt},props:{},data:function(){return{style:{parent:{background:"#F4F5F6",borderRadius:"15px"},heading:{opacity:".7"},subheading:{opacity:".5"}},entity:{},state:{error:!1},headers:[{text:"Product Name",value:"product_name"},{text:"stock",value:"stock"},{text:"avg_rate",value:"avg_rate"}],products:[],refProducts:[],endpoint:"purchase-orders",userMethod:0,dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,methodsEnums:mt,snackbar:{visible:!1,state:!1,message:""},baseUrl:"http://34.83.223.211/api/v1/"}},computed:{formTitle:function(){}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios.get(this.baseUrl+"products");case 2:t=e.sent,this.products=this.generateItems(t.data.results,"product_id"),t&&(this.refProducts=this.productsToObj(t.data.results));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.entity.project_id=Number(this.entity.project_id),this.entity.person_id=Number(this.entity.person_id)},methods:{productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.PATCH},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=ut.a.cloneDeep(this.entity);switch(t.products=JSON.stringify(t.products),void 0!=t.tac.freight_tax&&""!=t.tac.freight_tax&&null!=t.tac.freight_tax||delete t.tac.freight_tax,t.tac=JSON.stringify(t.tac),this.userMethod){case this.methodsEnums.POST:this.$refs.poRef.$validator.validateAll().then(function(a){a&&e.functions.create(t)});break;case this.methodsEnums.PATCH:this.$refs.poRef.$validator.validateAll().then(function(a){a&&e.functions.update(t)});break;case this.methodsEnums.DELETE:e.functions.remove({po_id:this.entity.po_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose(),this.reloadData()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},reloadData:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"purchase-orders",params:{po_id:this.$route.params.id}});case 2:t=e.sent,t&&(this.entity=Object.assign({},t.data.result[0]),this.entity.products=JSON.parse(this.entity.products));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},pt=vt,ht=(a("a46c"),Object(l["a"])(pt,Xe,Ze,!1,null,null,null)),ft=ht.exports;m()(ht,{VDataTable:le["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Brand","data-vv-name":"brand","error-messages":e.errors.collect("brand")},model:{value:e.editedItem.brand,callback:function(t){e.$set(e.editedItem,"brand",t)},expression:"editedItem.brand"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("data-list",{attrs:{endpoint:"units"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return a("div",{},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"units",loading:!s&&n?n:"",items:n||s?[]:e.generateItems(r.results,"unit_id"),"data-vv-name":"unit_names",error:s,"error-messages":e.errors.collect("unit_name")},model:{value:e.editedItem.unit_id,callback:function(t){e.$set(e.editedItem,"unit_id",t)},expression:"editedItem.unit_id"}})],1)}}],null,!1,228196837)})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.enums.type,label:"Type","data-vv-name":"type","error-messages":e.errors.collect("type")},model:{value:e.editedItem.type,callback:function(t){e.$set(e.editedItem,"type",t)},expression:"editedItem.type"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal",expression:"'decimal'"}],attrs:{label:"Igst","data-vv-name":"igst","error-messages":e.errors.collect("igst")},model:{value:e.editedItem.igst,callback:function(t){e.$set(e.editedItem,"igst",t)},expression:"editedItem.igst"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal",expression:"'decimal'"}],attrs:{label:"cgst","data-vv-name":"cgst","error-messages":e.errors.collect("cgst")},model:{value:e.editedItem.cgst,callback:function(t){e.$set(e.editedItem,"cgst",t)},expression:"editedItem.cgst"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal",expression:"'decimal'"}],attrs:{label:"sgst","data-vv-name":"sgst","error-messages":e.errors.collect("sgst")},model:{value:e.editedItem.sgst,callback:function(t){e.$set(e.editedItem,"sgst",t)},expression:"editedItem.sgst"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"description","data-vv-name":"description","error-messages":e.errors.collect("description")},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},gt=[],bt={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(bt);var _t={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"products",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Product ID",value:"product_id"},{text:"Name",value:"name"},{text:"Brand",value:"brand"},{text:"Description",value:"description"},{text:"Type",value:"type"},{text:"Unit",value:"unit_name"},{text:"Actions",value:"actions"}],enums:{type:["purchase","selling","trade"]},editedIndex:-1,editedItem:{},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0,igst:null,cgst:null,sgst:null},snackbar:{visible:!1,state:!1,message:""},methodsEnums:bt,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({product_id:this.editedItem.product_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},yt=_t,kt=(a("b6ca"),Object(l["a"])(yt,xt,gt,!1,null,null,null)),Et=kt.exports;m()(kt,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSelect:me["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"],VTextarea:ke["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|min:3",expression:"'required|email|min:3'"}],attrs:{label:"Email","data-vv-name":"email","error-messages":e.errors.collect("email")},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Designation",items:["mr","mrs","ms","miss"],"data-vv-name":"designation","error-messages":e.errors.collect("designation")},model:{value:e.editedItem.designation,callback:function(t){e.$set(e.editedItem,"designation",t)},expression:"editedItem.designation"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{loading:e.extras.clients.loading,items:e.extras.clients.data,label:"Client ID","data-vv-name":"client_id","error-messages":e.errors.collect("client_id")},model:{value:e.editedItem.client_id,callback:function(t){e.$set(e.editedItem,"client_id",t)},expression:"editedItem.client_id"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{loading:e.extras.projects.loading,items:e.extras.projects.data,label:"Project ID","data-vv-name":"project_id","error-messages":e.errors.collect("project_id")},model:{value:e.editedItem.project_id,callback:function(t){e.$set(e.editedItem,"project_id",t)},expression:"editedItem.project_id"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},wt=[],St={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(St);var Tt={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"persons",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Person ID",value:"person_id"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Designation",value:"designation"},{text:"Client Name",value:"client_name"},{text:"Project Name",value:"project_name"},{text:"Actions",value:"actions"}],enums:{type:["purchase","selling","trade"]},editedIndex:-1,editedItem:{},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0},snackbar:{visible:!1,state:!1,message:""},methodsEnums:St,userMethod:0,table:{sortBy:"",sortDesc:!1},extras:{projects:{loading:!0,error:!1,data:[]},clients:{loading:!0,error:!1,data:[]}}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()},"editedItem.client_id":{deep:!0,handler:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.editedItem.project_id="",e.next=3,axios({method:"GET",baseURL:this.$config.baseUrl,url:"projects",params:{client_id:this.editedItem.client_id}});case 3:t=e.sent,t.data.results&&(this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"clients"});case 2:t=e.sent,t.data.results&&(this.extras.clients.data=this.generateItems(t.data.results,"client_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({person_id:this.editedItem.person_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},It=Tt,Ct=(a("3502"),Object(l["a"])(It,jt,wt,!1,null,null,null)),Pt=Ct.exports;m()(Ct,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSelect:me["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{rows:"","justify-end":"","pr-5":""}},[a("v-flex",{attrs:{"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{lg6:"",shrink:""}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],attrs:{label:"Stock","data-vv-name":"stock","error-messages":e.errors.collect("stock")},model:{value:e.editedItem.stock,callback:function(t){e.$set(e.editedItem,"stock",t)},expression:"editedItem.stock"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:0|decimal",expression:"'required|min:0|decimal'"}],attrs:{label:"Rate","data-vv-name":"rate","error-messages":e.errors.collect("rate")},model:{value:e.editedItem.avg_rate,callback:function(t){e.$set(e.editedItem,"avg_rate",t)},expression:"editedItem.avg_rate"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Project",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.extras.projects.data,"data-vv-name":"project","error-messages":e.errors.collect("project"),type:"search"},model:{value:e.editedItem.project_id,callback:function(t){e.$set(e.editedItem,"project_id",t)},expression:"editedItem.project_id"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Products","hide-selected":"",items:e.extras.products.data,"data-vv-name":"product_name","error-messages":e.errors.collect("product_name_"),type:"search"},model:{value:e.editedItem.product_id,callback:function(t){e.$set(e.editedItem,"product_id",t)},expression:"editedItem.product_id"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint+"/distinct/product"},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.inventory_id",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"inventory",params:{id:t.item.product_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.inventory_id))])])]}},{key:"item.currency",fn:function(t){return[e._v("\n                                 "+e._s(e._f("currency")(t.item.total_amount))+"\n                            \n                            ")]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},Ot=[],Dt={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(Dt);var Vt={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"inventory",extras:{products:{data:[],loading:!0,error:!1,loaded:!1},projects:{loading:!0,error:!1,data:[]}},search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Inventory ID",value:"inventory_id"},{text:"Product name",value:"product_name"},{text:"Type",value:"inventory_type"},{text:"Stock",value:"stock"},{text:"Avg Rate",value:"avg_rate"},{text:"Total Amount",value:"total_amount"},{text:"Unit",value:"unit_name"},{text:"Actions",value:"actions"}],enums:{type:["purchase","selling","trade"]},editedIndex:-1,editedItem:{type:1},defaultItem:{project_id:null,product_id:null,stock:null,avg_rate:null,type:1},snackbar:{visible:!1,state:!1,message:""},methodsEnums:Dt,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.getProjects(),this.getProducts();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getProjects:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"projects",params:{}});case 2:t=e.sent,t.data.results&&(this.extras.projects.loading=!1,this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getProducts:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"products",params:{}});case 2:t=e.sent,t.data.results&&(this.extras.products.loading=!1,this.extras.products.data=this.generateItems(t.data.results,"product_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({inventory_id:this.editedItem.inventory_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},At=Vt,qt=(a("67d7"),Object(l["a"])(At,$t,Ot,!1,null,null,null)),Nt=qt.exports;m()(qt,{VAutocomplete:$e["a"],VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"]});var Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|integer|max:10",expression:"'required|integer|max:10'"}],attrs:{label:"Mobile","data-vv-name":"mobile","error-messages":e.errors.collect("mobile")},model:{value:e.editedItem.mobile,callback:function(t){e.$set(e.editedItem,"mobile",t)},expression:"editedItem.mobile"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:"Email","data-vv-name":"email","error-messages":e.errors.collect("email")},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Address","data-vv-name":"address","error-messages":e.errors.collect("address")},model:{value:e.editedItem.address,callback:function(t){e.$set(e.editedItem,"address",t)},expression:"editedItem.address"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"GST NO","data-vv-name":"gst_no","error-messages":e.errors.collect("gst_no")},model:{value:e.editedItem.gst_no,callback:function(t){e.$set(e.editedItem,"gst_no",t)},expression:"editedItem.gst_no"}})],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},Mt=[],Rt={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(Rt);var Ht={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"vendors",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Vendor ID",value:"vendor_id"},{text:"Name",value:"name"},{text:"Mobile",value:"mobile"},{text:"Email",value:"email"},{text:"address",value:"address"},{text:"Gst No",value:"gst_no"},{text:"Actions",value:"actions"}],enums:{},editedIndex:-1,editedItem:{},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0,gst_no:""},snackbar:{visible:!1,state:!1,message:""},methodsEnums:Rt,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({vendor_id:this.editedItem.vendor_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},Ut=Ht,Bt=(a("0780"),Object(l["a"])(Ut,Lt,Mt,!1,null,null,null)),Ft=Bt.exports;m()(Bt,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"],VTextarea:ke["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("edit-po",{attrs:{form:e.editedItem,products:e.products,refProducts:e.refProducts},on:{"update:form":function(t){e.editedItem=t}}})],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e.userMethod==e.methodsEnums.APPROVE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update,o=(t.error,t.dynamic);return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i,dynamic:o}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.po_id",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"po",params:{id:t.item.po_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.po_id))])])]}},{key:"item.date",fn:function(t){return[e._v("\n                                 "+e._s(e._f("formatDate")(t.item.date))+"\n                            ")]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}},{key:"item.status",fn:function(t){var r=t.item;return[r.status?[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green"}},[e._v("   \n                                                        check_circle\n                                                    ")]),e._v("\n                                                    Approved\n                                                ")]:[a("div",{staticStyle:{cursor:"pointer !important"},on:{click:function(t){e.dialog=!0,e.userMethod=e.methodsEnums.APPROVE,e.editedItem=Object.assign({},r)}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"red"}},[e._v("   \n                                                        remove_circle\n                                                    ")]),e._v("\n                                                     Approve Now\n\n                                                    ")],1)]]}}],null,!0)})],1)}}])})],1)],1)},Gt=[],zt={GET:0,POST:1,PATCH:2,DELETE:3,APPROVE:4};Object.freeze(zt);var Jt={extends:K,components:{DataList:ae,DataModel:re,editPo:dt},data:function(){return{endpoint:"purchase-orders",search:"",products:[],refProducts:[],dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Purchase Order ID",value:"po_id"},{text:"Subject",value:"subject"},{text:"date",value:"date"},{text:"Vendor Name",value:"vendor_name"},{text:"Status",value:"status"}],enums:{type:["purchase","selling","trade"]},editedIndex:-1,editedItem:{date:this.$moment().format("YYYY-MM-DD"),products:[{product_id:-1,project_id:-1,quantity:0,avg_rate:0,delivered:0}],ref:"",tac:{payment:"",remarks:"",tax_type:"",warranty:"",tax_price:0,freight_tax:null,delivery_period:0}},defaultItem:{date:this.$moment().format("YYYY-MM-DD"),products:[{product_id:-1,project_id:-1,quantity:0,avg_rate:0,delivered:0}],ref:"",tac:{payment:"",remarks:"",tax_type:"",warranty:"",tax_price:0,freight_tax:null,delivery_period:0}},snackbar:{visible:!1,state:!1,message:""},methodsEnums:zt,userMethod:0,table:{sortBy:"",sortDesc:!1},baseUrl:"http://34.83.223.211/api/v1/"}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";case this.methodsEnums.APPROVE:return"Approve Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios.get(this.baseUrl+"products",{withCredentials:!0});case 2:t=e.sent,this.products=this.generateItems(t.data.results,"product_id"),t&&(this.refProducts=this.productsToObj(t.data.results));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a,withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=ut.a.cloneDeep(this.editedItem);switch(t.products=JSON.stringify(t.products),t.tac=JSON.stringify(t.tac),this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t)});break;case this.methodsEnums.DELETE:e.functions.remove({inventory_id:this.editedItem.inventory_id});break;case this.methodsEnums.APPROVE:e.functions.dynamic("delivery","patch",t);break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted";case this.methodsEnums.APPROVE:return"approve"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete";case this.methodsEnums.APPROVE:return"approve"}}}},Yt=Jt,Qt=(a("b2f4"),Object(l["a"])(Yt,Wt,Gt,!1,null,null,null)),Kt=Qt.exports;m()(Qt,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"]});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s())])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[[a("edit-stock",{ref:"jc",attrs:{form:e.editedItem},on:{"update:form":function(t){e.editedItem=t}}})]],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(this.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e.userMethod==e.methodsEnums.APPROVE?a("v-layout",{attrs:{wrap:""}},[a("h1",{staticClass:"display-1"},[e._v(" Are you sure, you want to Approve this ? ")]),e._l(Object.values(this.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2",staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"}},[e._v(" \n                            "+e._s(t)+" \n                            \n                        ")])})],2):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.approve,s=t.remove,n=(t.data,t.loading),i=t.create,o=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",loading:n,text:""},on:{click:function(t){return e.dialogSave({functions:{create:i,approve:r,remove:s,update:o}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{"py-5":""}},[a("v-flex",{attrs:{"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("data-list",{key:e.dl_key,attrs:{endpoint:"stock-transfer"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;t.error,t.loading;return[[a("v-layout",{attrs:{wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs12:"","py-1":""}},[a("v-layout",{attrs:{"justify-end":""}},[a("v-flex",{attrs:{shrink:"","px-2":""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{"border-radius":"15px",padding:"2px",transform:"scale(1)","text-align":"center",border:"1px solid rgba(0,0,0,.1)",outline:"none"},attrs:{"single-line":"",type:"text",rounded:"",placeholder:"Search",outlined:"","prepend-inner-icon":"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("v-flex",{attrs:{shrink:""}},[a("v-btn",{attrs:{rounded:""},on:{click:e.dialogOpen}},[e._v(" Add ")])],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:e.headers,items:r&&r.results?r.results:[],search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("   \n                                                    edit\n                                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                                delete\n                                                ")])]}},{key:"item.status",fn:function(t){var r=t.item;return[r.status?[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green"}},[e._v("   \n                                                        check_circle\n                                                    ")]),e._v("\n                                                    Approved\n                                                ")]:[a("div",{staticStyle:{cursor:"pointer !important"},on:{click:function(t){e.dialog=!0,e.userMethod=e.methodsEnums.APPROVE,e.editedItem=Object.assign({},r)}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"red"}},[e._v("   \n                                                        remove_circle\n                                                    ")]),e._v("\n                                                     Approve Now\n\n                                                    ")],1)]]}}],null,!0)})],1)],1)]]}}])})],1)],1)},Zt=[],ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticStyle:{"enable-background":"new 0 0 567.419 567.419"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 567.419 567.419","xml:space":"preserve"}},[a("g",[a("g",[a("g",{attrs:{id:"group-3svg"}},[a("path",{attrs:{id:"path-1_21_",d:"M409.93,209.297c0,18.056-14.627,32.692-32.683,32.692c-18.047,0-32.683-14.636-32.683-32.692\n\t\t\t\t\ts14.636-32.683,32.683-32.683C395.303,176.614,409.93,191.241,409.93,209.297z"}}),a("path",{attrs:{id:"path-2_21_",d:"M222.011,209.297c0,18.056-14.636,32.692-32.683,32.692s-32.683-14.636-32.683-32.692\n\t\t\t\t\ts14.636-32.683,32.683-32.683S222.011,191.241,222.011,209.297z"}}),a("path",{attrs:{id:"path-3_21_",d:"M172.538,453.621c-7.434,0-13.468-6.025-13.468-13.468c0-58.138,46.762-105.439,104.245-105.439h45.397\n\t\t\t\t\tc57.483,0,104.245,47.04,104.245,104.855c0,7.443-6.025,13.477-13.468,13.477c-7.435,0-13.459-6.034-13.459-13.477\n\t\t\t\t\tc0-42.955-34.685-77.91-77.317-77.91h-45.397c-42.632,0-77.308,35.206-77.308,78.493\n\t\t\t\t\tC186.006,447.596,179.972,453.621,172.538,453.621z"}}),a("path",{attrs:{id:"path-4_21_",d:"M283.714,567.419c-156.403,0-283.642-127.275-283.642-283.714C0.072,127.275,127.311,0,283.714,0\n\t\t\t\t\tc156.394,0,283.633,127.275,283.633,283.705C567.347,440.143,440.108,567.419,283.714,567.419z M283.714,26.946\n\t\t\t\t\tc-141.552,0-256.705,115.181-256.705,256.759c0,141.588,115.154,256.768,256.705,256.768\n\t\t\t\t\tc141.543,0,256.696-115.181,256.696-256.768C540.41,142.126,425.257,26.946,283.714,26.946z"}})])])])])},ta=[],aa={},ra=aa,sa=Object(l["a"])(ra,ea,ta,!1,null,null,null),na=sa.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",e._b({attrs:{wrap:""}},"v-layout",e.$attrs,!1),[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Sender",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.extras.projects.data,"data-vv-name":"sender","error-messages":e.errors.collect("sender"),type:"search"},model:{value:e.form.sender,callback:function(t){e.$set(e.form,"sender",t)},expression:"form.sender"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Receiver",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.receiverItems,"data-vv-name":"receiver","error-messages":e.errors.collect("receiver"),type:"search"},model:{value:e.form.receiver,callback:function(t){e.$set(e.form,"receiver",t)},expression:"form.receiver"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Reason","data-vv-name":"reason","error-messages":e.errors.collect("reason")},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),a("v-flex",{staticStyle:{border:"1px solid rgba(0,0,0,.1)","border-radius":"12px"},attrs:{xs12:"","pa-3":"","my-5":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md10:"",shrink:""}},[a("h1",{staticClass:"title"},[e._v(" transfers ")])]),a("v-flex",{attrs:{xs12:"",md2:"",shrink:""}},[a("v-btn",{attrs:{rounded:"",color:"red"},on:{click:e.newProduct}},[e._v(" Add Product ")])],1)],1),e.form.transfers.length>0?a("transition-group",{attrs:{name:"fade"}},e._l(e.form.transfers,function(t,r){return a("v-layout",{key:r,staticStyle:{"border-radius":"15px"},attrs:{wrap:"","my-1":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Products","hide-selected":"",items:e.extras.products.data,"data-vv-name":"product_name_"+r,"error-messages":e.errors.collect("product_name_"+r),type:"search"},on:{change:e.changed},model:{value:e.form.transfers[r].product_id,callback:function(t){e.$set(e.form.transfers[r],"product_id",t)},expression:"form.transfers[index].product_id"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-text-field",{attrs:{label:"Stock","v-validate":e.generateValidation(t),"data-vv-name":"stock_"+r,"error-messages":e.errors.collect("stock_"+r)},model:{value:e.form.transfers[r].stock,callback:function(t){e.$set(e.form.transfers[r],"stock",t)},expression:"form.transfers[index].stock"}})],1),a("v-flex",{attrs:{shrink:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal|min:0",expression:"'required|decimal|min:0'"}],attrs:{label:"Rate","data-vv-name":"rate_"+r,"error-messages":e.errors.collect("rate_"+r)},model:{value:e.form.transfers[r].avg_rate,callback:function(t){e.$set(e.form.transfers[r],"avg_rate",t)},expression:"form.transfers[index].avg_rate"}})],1),a("v-icon",{attrs:{"pa-2":"","my-2":""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" delete ")])],1)],1)],1)}),1):e._e()],1)],1)},oa=[],ca={name:"project-form",mixins:[],props:{form:{type:Object,required:!0},products:{type:Array,required:!1},refProducts:{type:Object,required:!1}},components:{DataList:ae},data:function(){return{menu:!1,used:[],extras:{products:{data:[{text:"",value:"",max:0}],loading:!0,error:!1,loaded:!1},projects:{loading:!0,error:!1,data:[]}},enums:{tac:[{text:"all inclusive in price",value:"all inclusive in price"},{text:"gst extra as applicable",value:"gst extra as applicable"},{text:"gst as mentioned",value:"gst as mentioned"}]},baseUrl:"http://34.83.223.211/api/v1/"}},watch:{"form.date":{deep:!0,handler:function(e){}},"form.sender":{deep:!1,handler:function(e){e&&this.getProducts()}}},mounted:function(){this.$emit("init"),this.$nextTick(function(){})},computed:{receiverItems:function(){var e=this;return this.extras.projects.data.length>0?this.extras.projects.data.filter(function(t,a,r){return t.value!=e.form.sender}):[]},filteredProducts:function(){var e=this;if(this.extras.products.data.length>0)return this.extras.products.data.filter(function(t,a,r){return!e.used.includes(t.value)})}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.getProjects();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{generateValidation:function(e){var t="'required|decimal|min:0'";return t},changed:function(e){},newProduct:function(){var e={product_id:null,stock:null,avg_rate:null};this.form.transfers.push(e)},deleteItem:function(e){this.form.transfers.splice(e,1)},formSubmit:function(){this.$validator.validateAll().then(function(e){})},validate:function(){var e=this;return new Promise(function(t,a){e.$validator.validateAll().then(function(a){t(e.form)}).catch(function(e){a(e)})})},cloneData:function(e,t,a){this.extras[t].data=this.generateItems(e.data.results,a),this.extras[t].loading=!0},cloneError:function(e){this.extras.clients.error=!0,this.extras.clients.loading=!1},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},generateItemsNew:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.product_name+" [ In Stock :- ".concat(e.stock," ]"),value:e[t],max:e.stock})}),a},getProjects:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"projects",withCredentials:!0,params:{}});case 2:t=e.sent,t.data.results&&(this.extras.projects.loading=!1,this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getProducts:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,withCredentials:!0,url:"inventory/project",params:{project_id:this.form.sender}});case 2:t=e.sent,t.data.result&&(this.extras.products.loading=!1,this.extras.products.data=this.generateItemsNew(t.data.result,"product_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},da=ca,la=(a("bb8f"),Object(l["a"])(da,ia,oa,!1,null,null,null)),ua=la.exports;m()(la,{VAutocomplete:$e["a"],VBtn:p["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VTextField:pe["a"]});var ma={GET:0,POST:1,PATCH:2,DELETE:3,APPROVE:4},va={name:"stock-transfer",extends:K,components:{DataList:ae,DataModel:re,sad:na,EditStock:ua},props:{},mounted:function(){},data:function(){return{search:"",headers:[{text:"Stock Transfer ID",value:"st_id"},{text:"From",value:"sender_name"},{text:"To",value:"receiver_name"},{text:"Reason",value:"reason"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],snackbar:{visible:!1,state:!1,message:""},dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,endpoint:"stock-transfer",methodsEnums:ma,editedItem:{},default:{sender:null,receiver:null,reason:"",transfers:[{product_id:null,stock:null,avg_rate:null}]},userMethod:""}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}}},methods:{actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.POST,this.editedItem=Object.assign({},this.default)},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=_.cloneDeep(this.editedItem);switch(t.transfers=JSON.stringify(t.transfers),this.userMethod){case this.methodsEnums.POST:this.$refs.jc.$validator.validateAll().then(function(a){a&&e.functions.create(t)});break;case this.methodsEnums.PATCH:this.$refs.jc.$validator.validateAll().then(function(a){a&&e.functions.update(t)});break;case this.methodsEnums.DELETE:e.functions.remove({st_id:this.editedItem.st_id});break;case this.methodsEnums.APPROVE:e.functions.approve(t.st_id);break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted";case this.methodsEnums.APPROVE:return"approved"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete";case this.methodsEnums.APPROVE:return"approve"}},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t}}},pa=va,ha=Object(l["a"])(pa,Xt,Zt,!1,null,null,null),fa=ha.exports;m()(ha,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSnackbar:ve["a"],VSpacer:S["a"]});var xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"justify-center":"","align-center":"",fluid:"","fill-height":""}},[a("v-flex",{staticClass:"login",attrs:{shrink:"","pa-5":"",xs6:""}},[a("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{shrink:"","my-3":""}},[a("h1",{staticClass:"display-1",staticStyle:{color:"white",opacity:".7"}},[e._v(" Hello There ")])]),a("v-flex",{attrs:{xs12:""}},[a("login")],1)],1)],1)],1)},ga=[],ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email",solo:"",rounded:"",filled:!e.isFirefox(),dark:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"password",type:"password",solo:"",rounded:"",filled:!e.isFirefox(),dark:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-flex",{attrs:{xs12:"",grow:""}},[a("v-btn",{attrs:{text:"",color:"info",light:"",rounded:"",width:"100%"},on:{click:e.onLogin}},[e._v(" login ")])],1)],1)},_a=[],ya=a("4328"),ka=a.n(ya),Ea={mounted:function(){1==this.$root.$data.$loggedIn&&this.$router.push("/clients")},data:function(){return{isLoggedIn:function(){return this.$root.$data.$loggedIn},email:"",password:"",error:""}},methods:{isFirefox:function(){return"undefined"!==typeof InstallTrigger},onLogin:function(){var e=this;axios({method:"POST",baseURL:this.$config.baseUrl,url:"/login",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ka.a.stringify({email:this.email,password:this.password})}).then(function(t){t&&(e.$root.$data.$loggedIn=!0,e.$root.$data.$name=t.data.name,e.$nextTick(function(){e.$router.push("/clients")}))}).catch(function(t){e.$root.$data.$loggedIn=!1,e.error="Invalid Login"})}}},ja=Ea,wa=Object(l["a"])(ja,ba,_a,!1,null,null,null),Sa=wa.exports;m()(wa,{VBtn:p["a"],VFlex:h["a"],VLayout:g["a"],VTextField:pe["a"]});var Ta={components:{login:Sa}},Ia=Ta,Ca=(a("66c0"),Object(l["a"])(Ia,xa,ga,!1,null,null,null)),Pa=Ca.exports;m()(Ca,{VFlex:h["a"],VLayout:g["a"]});var $a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,staticStyle:{"z-index":"500  !important"},attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:"Email","data-vv-name":"email","error-messages":e.errors.collect("email")},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|name",expression:"'required|name'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min:3|max:64",expression:"'min:3|max:64'"}],attrs:{label:"Password","data-vv-name":"password","error-messages":e.errors.collect("password")},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{wrap:"","align-center":""}},[e._l(e.roles,function(t){return[a("v-flex",{attrs:{xs3:"",shrink:""}},[a("h1",{staticClass:"body-1"},[e._v("  "+e._s(t)+"  ")])]),a("v-flex",{attrs:{xs9:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{label:"roles",multiple:"",items:e.rolesItems,"data-vv-name":t+"_role","error-messages":e.errors.collect(t+"_role")},model:{value:e.editedItem.roles[t],callback:function(a){e.$set(e.editedItem.roles,t,a)},expression:"editedItem.roles[i]"}})],1)]})],2)],1)],1):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(e.editedItem),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:r,headers:e.headers,items:e.items,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.client_name",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"client",params:{id:t.item.client_id}},append:""}},[a("div",[e._v(" "+e._s(t.item.client_name))])])]}},{key:"item.roles",fn:function(t){var r=t.item;return[Object.keys(r.roles).length>0?a("v-expansion-panels",{attrs:{value:!1}},[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Show")]),a("v-expansion-panel-content",[Object.keys(r.roles).length>0?a("div",{staticClass:"pa-2"},[e._l(Object.keys(r.roles),function(t){return[a("v-layout",{attrs:{"pa-1":"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs3:""}},[e._v(" "+e._s(e._f("capitalize")(t))+" ")]),a("v-flex",[e._l(r.roles[t],function(t){return[a("v-chip",{staticClass:"mx-1"},[e._v("\n                                                                "+e._s(e.machineToHuman(t))+"\n                                                            ")])]})],2)],1)]})],2):e._e()])],1)],1):e._e()]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                   delete\n                                ")])]}}],null,!0)})],1)}}])})],1)],1)},Oa=[],Da={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(Da);var Va={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{expand:!1,endpoint:"users",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"User ID",value:"user_id"},{text:"email",value:"email"},{text:"Name",value:"name"},{text:"Actions",value:"actions"},{text:"Roles",value:"roles"}],roles:["users","clients","persons","vendors","jobcards","products","projects","inventory","stock-transfer","purchase-orders"],enums:{type:["purchase","selling","trade"]},editedIndex:-1,editedItem:{},defaultItem:{email:0,password:"",name:"",roles:{clients:[],persons:[],vendors:[],jobcards:[],products:[],projects:[],inventory:[],"stock-transfer":[],"purchase-orders":[]}},rolesItems:[{text:"Read",value:"get"},{text:"Insert",value:"post"},{text:"Update",value:"patch"},{text:"Delete",value:"delete"}],snackbar:{visible:!1,state:!1,message:""},methodsEnums:Da,userMethod:0,table:{sortBy:"",sortDesc:!1},extras:{projects:{loading:!0,error:!1,data:[]},clients:{loading:!0,error:!1,data:[]}}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()},"editedItem.client_id":{deep:!0,handler:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.editedItem.project_id="",e.next=3,axios({method:"GET",baseURL:this.$config.baseUrl,url:"projects",params:{client_id:this.editedItem.client_id}});case 3:t=e.sent,t.data.results&&(this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"clients"});case 2:t=e.sent,t.data.results&&(this.extras.clients.data=this.generateItems(t.data.results,"client_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.editedItem=Object.assign({},this.defaultItem);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),machineToHuman:function(e){switch(e){case"get":return"Read";case"post":return"Insert";case"patch":return"Update";case"delete":return"Delete"}},generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=ut.a.cloneDeep(this.editedItem);switch(t.roles=JSON.stringify(t.roles),this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t)});break;case this.methodsEnums.DELETE:e.functions.remove({user_id:this.editedItem.user_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},Aa=Va,qa=(a("8702"),a("cc20")),Na=a("cd55"),La=a("49e2"),Ma=a("c865"),Ra=a("0393"),Ha=Object(l["a"])(Aa,$a,Oa,!1,null,null,null),Ua=Ha.exports;m()(Ha,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VChip:qa["a"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VExpansionPanel:Na["a"],VExpansionPanelContent:La["a"],VExpansionPanelHeader:Ma["a"],VExpansionPanels:Ra["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VSelect:me["a"],VSnackbar:ve["a"],VSpacer:S["a"],VTextField:pe["a"]});var Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("data-list",{attrs:{endpoint:"clients",entity:{client_id:e.$route.params.id}},on:{success:e.test},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return a("div",{},[a("v-layout",{staticClass:"white elevation-2",staticStyle:{"border-radius":"20px"},attrs:{"pa-5":"",row:"","fill-height":"","justify-center":n}},[[n?[a("v-flex",{attrs:{shrink:"","align-self-center":""}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"red",indeterminate:""}})],1)]:[!s&&r.result.length>0?[a("v-flex",{staticClass:"white elevastion-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"",lg3:"","py-5":"","px-3":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")]),a("client-details",{staticClass:"pa-5",attrs:{entity:r.result[0]}})],1),a("v-flex",{attrs:{xs12:"",lg9:"","py-5":""}},[a("div",{staticClass:"elevation-2",staticStyle:{"border-radius":"20px"}},[a("v-tabs",{staticClass:"elevation-0 myTabs",staticStyle:{"border-radius":"20px 20px 0 0",background:"#F5EAEA"},attrs:{"active-class":"tab-active"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",[e._v(" Projects ")]),a("v-tab",[e._v(" Persons ")]),a("v-tab",[e._v(" Job Cards ")])],1),a("v-tabs-items",{staticClass:"tab-item py-2",staticStyle:{height:"100%"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",[a("client-projects",{attrs:{entity:{client_id:r.result[0].client_id}}})],1),a("v-tab-item",[a("client-persons",{attrs:{entity:{client_id:r.result[0].client_id}}})],1),a("v-tab-item",[a("client-jobcards",{attrs:{entity:{client_id:r.result[0].client_id}}})],1)],1)],1)])]:a("not-found",{attrs:{name:"client"}})]]],2)],1)}}])})},Fa=[],Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticStyle:{opacity:".5"},attrs:{"fill-height":"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs3:"",shrink:""}},[a("sad",{staticStyle:{height:"20vh"}})],1),a("v-flex",{attrs:{xs8:"",shrink:""}},[a("h1",{staticClass:"display-1"},[e._v(" No such "+e._s(e.name?e.name:"data")+" found  ")])])],1)},Ga=[],za={props:{name:{type:String}},components:{sad:na}},Ja=za,Ya=Object(l["a"])(Ja,Wa,Ga,!1,null,null,null),Qa=Ya.exports;m()(Ya,{VFlex:h["a"],VLayout:g["a"]});var Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{stsyle:"background: rgba(0,0,0,.1); border-radius: 25px","my-2":"",row:"",wrap:"","justify-left":"","align-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-icon",{attrs:{size:"128"}},[e._v(" supervised_user_circle ")])],1),a("v-flex",{attrs:{xs12:"",lg12:"","my-1":""}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",{staticStyle:{opacity:".5"},attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v(" NAME   ")])]),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v("\n                        "+e._s(e.form.name)+"\n                    ")])])],1)],1),a("v-flex",{attrs:{xs12:"",lg12:"","my-1":""}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",{staticStyle:{opacity:".5"},attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v(" STATE   ")])]),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v("\n                        "+e._s(e.form.state)+"\n                    ")])])],1)],1),a("v-flex",{attrs:{xs12:"",lg12:"","my-1":""}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",{staticStyle:{opacity:".5"},attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v(" ADDRESS   ")])]),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v("\n                        "+e._s(e.form.address)+"\n                    ")])])],1)],1),a("v-flex",{attrs:{xs12:"",lg12:"","my-1":""}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",{staticStyle:{opacity:".5"},attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v(" GST NO.   ")])]),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v("\n                        "+e._s(e.form.gst_no)+"\n                    ")])])],1)],1),a("v-flex",{attrs:{xs12:"",lg12:"","my-1":""}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",{staticStyle:{opacity:".5"},attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v(" PROJECT TYPE   ")])]),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"body-2"},[e._v("\n                        "+e._s(e.form.project_type)+"\n                    ")])])],1)],1)],1)},Xa=[],Za={props:{entity:{type:Object,required:!0}},data:function(){return{form:this.entity||this.default,default:{name:"",state:"",address:"",gst_no:"",project_type:""}}},mounted:function(){}},er=Za,tr=Object(l["a"])(er,Ka,Xa,!1,null,null,null),ar=tr.exports;m()(tr,{VFlex:h["a"],VIcon:f["a"],VLayout:g["a"]});var rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"fill-height":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s())])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST?a("v-layout",{attrs:{wrap:""}},[[a("edit-jobcard",{ref:"jc",attrs:{form:e.editedItem,products:e.products,refProducts:e.refProducts},on:{"update:form":function(t){e.editedItem=t}}})]],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(this.entity),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("v-flex",[a("data-list",{key:e.dl_key,attrs:{endpoint:"jobcards",entity:e.entity},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return[n?[a("v-flex",{attrs:{shrink:"","align-self-center":""}},[a("v-progress-circular",{attrs:{size:16,width:7,color:"red",indeterminate:""}})],1)]:[[[a("v-layout",{attrs:{wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs12:"","py-1":""}},[a("v-layout",{attrs:{"justify-end":""}},[a("v-flex",{attrs:{shrink:"","px-2":""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{"border-radius":"15px",padding:"2px",transform:"scale(1)","text-align":"center",border:"1px solid rgba(0,0,0,.1)",outline:"none"},attrs:{"single-line":"",type:"text",rounded:"",placeholder:"Search",outlined:"","prepend-inner-icon":"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("v-flex",{attrs:{shrink:"","px-2":""}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:e.dialogOpen}},[e._v(" Add ")])],1)],1)],1),!s&&r.results.length>0?a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{dense:"",headers:e.headers,items:r.results,search:e.search},scopedSlots:e._u([{key:"item.jobcard_id",fn:function(t){return[a("router-link",{staticClass:"clickable",attrs:{tag:"tr",to:{name:"jobcard",params:{id:t.item["jobcard_id"]}}}},[a("td",[e._v(" "+e._s(t.item.jobcard_id))])])]}}],null,!0)})],1):e._e()],1)]]]]}}])})],1)],1)},sr=[],nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",e._b({attrs:{wrap:""}},"v-layout",e.$attrs,!1),[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Clients",loading:!(e.extras.clients.error||!e.extras.clients.loading)&&e.extras.clients.loading,items:e.extras.clients.loading||e.extras.clients.error?[]:e.extras.clients.data,"data-vv-name":"client_names","error-messages":e.errors.collect("client_names"),type:"search"},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Projects",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.extras.projects.data,"data-vv-name":"project_names","error-messages":e.errors.collect("project_names"),type:"search"},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Persons",loading:!(e.extras.persons.error||!e.extras.persons.loading)&&e.extras.persons.loading,items:e.extras.persons.loading||e.extras.persons.error?[]:e.extras.persons.data,"data-vv-name":"person_names","error-messages":e.errors.collect("person_names")},model:{value:e.form.person_id,callback:function(t){e.$set(e.form,"person_id",t)},expression:"form.person_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Location","data-vv-name":"location","error-messages":e.errors.collect("location")},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required|min:1",expression:"'numeric|required|min:1'"}],attrs:{label:"Revision","data-vv-name":"revision","error-messages":e.errors.collect("revision")},model:{value:e.form.revision,callback:function(t){e.$set(e.form,"revision",t)},expression:"form.revision"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Site Supervisor","data-vv-name":"site_supervisor","error-messages":e.errors.collect("site_supervisor")},model:{value:e.form.site_supervisor,callback:function(t){e.$set(e.form,"site_supervisor",t)},expression:"form.site_supervisor"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Autocad Engineer","data-vv-name":"autocad_engineer","error-messages":e.errors.collect("autocad_engineer")},model:{value:e.form.autocad_engineer,callback:function(t){e.$set(e.form,"autocad_engineer",t)},expression:"form.autocad_engineer"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Plan Approved By","data-vv-name":"plan_approved_by","error-messages":e.errors.collect("plan_approved_by")},model:{value:e.form.plan_approved_by,callback:function(t){e.$set(e.form,"plan_approved_by",t)},expression:"form.plan_approved_by"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Labour Contractor","data-vv-name":"labour_contractor","error-messages":e.errors.collect("labour_contractor")},model:{value:e.form.labour_contractor,callback:function(t){e.$set(e.form,"labour_contractor",t)},expression:"form.labour_contractor"}})],1),a("v-flex",{attrs:{shrink:"","align-self-end":""}},[a("v-btn",{on:{click:e.newHeading}},[e._v(" Add Product ")])],1),e.form.products_headings.length>0?a("v-flex",{attrs:{xs12:""}},e._l(e.form.products_headings,function(t,r){return a("v-layout",{staticStyle:{"border-radius":"15px"},attrs:{wrap:"","my-5":"","pa-5":"","align-center":""}},[a("v-flex",{attrs:{xs11:""}},[a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Heading","data-vv-name":"heading_"+r,"error-messages":e.errors.collect("heading_"+r)},model:{value:e.form.products_headings[r].heading,callback:function(t){e.$set(e.form.products_headings[r],"heading",t)},expression:"form.products_headings[index].heading"}})],1)]),a("v-flex",{attrs:{xs1:"",shrink:""}},[a("v-icon",{on:{click:function(t){return e.removeHeading(r)}}},[e._v(" delete ")])],1),a("v-flex",{attrs:{xs12:""}},[a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Sub-heading","data-vv-name":"subheading"+r,"error-messages":e.errors.collect("subheading"+r)},model:{value:e.form.products_headings[r].subheading,callback:function(t){e.$set(e.form.products_headings[r],"subheading",t)},expression:"form.products_headings[index].subheading"}})],1)]),e._l(t.pItems,function(s,n,i){return[a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-5",attrs:{autocomplete:"off",label:"Product","data-vv-name":"product_"+r+"_"+n,items:e.products},model:{value:e.form.products_headings[r].pItems[n].pid,callback:function(t){e.$set(e.form.products_headings[r].pItems[n],"pid",t)},expression:"form.products_headings[index].pItems[ii].pid"}})],1),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Quantity","data-vv-name":"quantity"+r+"_"+n},model:{value:e.form.products_headings[r].pItems[n].quantity,callback:function(t){e.$set(e.form.products_headings[r].pItems[n],"quantity",t)},expression:"form.products_headings[index].pItems[ii].quantity"}})],1),a("v-flex",{attrs:{xs1:"",shrink:""}},[a("v-icon",{on:{click:function(t){return e.removeProduct(r,n)}}},[e._v(" delete ")])],1),n==t.pItems.length-1?a("v-flex",{attrs:{xs12:"","ml-5":""}},[a("v-btn",{attrs:{small:"",rounded:"",dark:"",fab:"",color:"red"},on:{click:function(t){return e.addPitem(r)}}},[a("v-icon",[e._v(" add ")])],1)],1):e._e()]})],2)}),1):e._e()],1)},ir=[],or={name:"jobcard-form",mixins:[],props:{form:{type:Object,required:!0}},components:{DataList:ae},data:function(){return{products:[],refProducts:{},default:{client_id:0,project_id:0,person_id:0,location:"",revision:1,date:null,site_supervisor:"",autocad_engineer:"",plan_approved_by:"",labour_contractor:"",products_headings:[]},extras:{clients:{data:[],loading:!0,error:!1,loaded:!1},projects:{data:[],loading:!0,error:!1,loaded:!1},persons:{data:[],loading:!0,error:!1,loaded:!1},products_headings:{data:[],loading:!0,error:!1,loaded:!1}},baseUrl:"http://34.83.223.211/api/v1/"}},watch:{},mounted:function(){var e=this;this.$emit("init"),this.$nextTick(function(){e.watchClientId(),e.watchProjectId()})},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,axios.get(this.baseUrl+"clients",{withCredentials:!0,params:{}});case 4:if(t=e.sent,!t){e.next=33;break}return this.extras.clients.loading=!1,this.extras.clients.error=!1,this.extras.clients.data=this.generateItems(t.data.results,"client_id"),e.prev=9,e.next=12,axios({methods:"GET",baseURL:this.$config.baseUrl,url:"projects",withCredentials:!0,params:{client_id:this.form.client_id}});case 12:if(a=e.sent,!a){e.next=28;break}return this.extras.projects.loading=!1,this.extras.projects.error=!1,this.extras.projects.data=this.generateItems(a.data.results,"project_id"),e.prev=17,e.next=20,axios.get(this.baseUrl+"persons",{withCredentials:!0,params:{client_id:this.form.client_id}});case 20:r=e.sent,r&&(this.extras.persons.loading=!1,this.extras.persons.error=!1,this.extras.persons.data=this.generateItems(r.data.results,"person_id")),e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](17),console.log("Persons -> "+e.t0),e.t0&&(this.extras.persons.error=!0);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](9),e.t1&&(this.extras.projects.error=!0);case 33:e.next=38;break;case 35:e.prev=35,e.t2=e["catch"](1),e.t2&&(extras.client.error=!0);case 38:return e.next=40,axios.get(this.baseUrl+"products",{withCredentials:!0});case 40:s=e.sent,this.products=this.generateItems(s.data.results,"product_id"),s&&(this.refProducts=this.productsToObj(s.data.results));case 43:case"end":return e.stop()}},e,this,[[1,35],[9,30],[17,24]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{removeHeading:function(e){this.form.products_headings.splice(e,1)},removeProduct:function(e,t){this.form.products_headings[e].pItems.splice(t,1)},productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},watchClientId:function(){this.$watch("form.client_id",function(e,t){var a=this;e&&(this.form.project_id=null,this.form.person_id=null,axios.get(this.baseUrl+"projects",{withCredentials:!0,params:{client_id:this.form.client_id}}).then(function(e){a.extras["projects"].data=a.generateItems(e.data.results,"project_id"),a.extras["projects"].loading=!1,a.extras["projects"].error=!1}).catch(function(e){a.extras["projects"].error=!0,a.extras["projects"].loading=!1,a.extras["projects"].data=[]}),axios.get(this.baseUrl+"persons",{withCredentials:!0,params:{client_id:this.form.client_id}}).then(function(e){a.extras["persons"].data=a.generateItems(e.data.results,"person_id"),a.extras["persons"].loading=!1,a.extras["persons"].error=!1}).catch(function(e){a.extras["persons"].error=!0,a.extras["persons"].loading=!1,a.extras["persons"].data=[]}))})},watchProjectId:function(){this.$watch("form.project_id",function(e,t){})},newHeading:function(){var e={heading:"",subheading:"",pItems:[{pid:-1,quantity:0}]};this.form.products_headings.push(e)},addPitem:function(e){var t={pid:-1,quantity:0};this.form.products_headings[e].pItems.push(t)},formSubmit:function(){this.$validator.validateAll().then(function(e){})},validate:function(){var e=this;return new Promise(function(t,a){e.$validator.validateAll().then(function(a){t(e.form)}).catch(function(e){a(e)})})},cloneData:function(e,t,a){this.extras[t].data=this.generateItems(e.data.results,a),this.extras[t].loading=!0},cloneError:function(e){this.extras.clients.error=!0,this.extras.clients.loading=!1},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a}}},cr=or,dr=Object(l["a"])(cr,nr,ir,!1,null,null,null),lr=dr.exports;m()(dr,{VAutocomplete:$e["a"],VBtn:p["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VTextField:pe["a"]});var ur=a("bc3a"),mr=a.n(ur),vr={GET:0,POST:1,PATCH:2,DELETE:3},pr={name:"clientJobcards",components:{DataList:ae,DataModel:re,sad:na,EditJobcard:lr},props:{entity:{type:Object,required:!0}},data:function(){return{search:"",baseUrl:"http://34.83.223.211/api/v1/",headers:[{text:"Jobcard ID",value:"jobcard_id"},{text:"Project Name",value:"project_name"},{text:"Person name",value:"person_name"}],userMethod:0,dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,methodsEnums:vr,snackbar:{visible:!1,state:!1,message:""},endpoint:"jobcards",products:[],refProducts:{},editedItem:{jobcard_id:0,client_id:parent.client_id,project_id:0,person_id:0,location:"",revision:1,date:null,site_supervisor:"",autocad_engineer:"",plan_approved_by:"",labour_contractor:"",client_name:"",project_name:"",person_name:"",products_headings:[{pItems:[{pid:0,quantity:0}],heading:"",subheading:""}]}}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mr.a.get(this.baseUrl+"products");case 2:t=e.sent,this.products=this.generateItems(t.data.results,"product_id"),t&&(this.refProducts=this.productsToObj(t.data.results)),this.editedItem.client_id=this.entity.client_id;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.POST},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$refs.jc.$validator.validateAll().then(function(a){if(a){var r=ut.a.cloneDeep(t.editedItem);r.products_headings=JSON.stringify(r.products_headings),t.dl_key++,e.functions.create(r)}});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){if(a){var r=ut.a.cloneDeep(t.entity);r.products_headings=JSON.stringify(r.products_headings),t.dl_key++,e.functions.update(r)}});break;case this.methodsEnums.DELETE:e.functions.remove({jobcard_id:this.entity.jobcard_id}),this.dl_key++;break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},hr=pr,fr=a("490a"),xr=Object(l["a"])(hr,rr,sr,!1,null,null,null),gr=xr.exports;m()(xr,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VLayout:g["a"],VProgressCircular:fr["a"],VSnackbar:ve["a"],VSpacer:S["a"]});var br=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"fill-height":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s())])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[[a("edit-project",{ref:"jc",attrs:{form:e.editedItem},on:{"update:form":function(t){e.editedItem=t}}})]],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(this.entity),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("v-flex",[a("data-list",{key:e.dl_key,attrs:{endpoint:"projects",entity:e.entity},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return[n?[a("v-flex",{attrs:{shrink:"","align-self-center":""}},[a("v-progress-circular",{attrs:{size:16,width:7,color:"red",indeterminate:""}})],1)]:[[[a("v-layout",{attrs:{wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs12:"","py-1":""}},[a("v-layout",{attrs:{"justify-end":""}},[a("v-flex",{attrs:{shrink:"","px-2":""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{"border-radius":"15px",padding:"2px",transform:"scale(1)","text-align":"center",border:"1px solid rgba(0,0,0,.1)",outline:"none"},attrs:{"single-line":"",type:"text",rounded:"",placeholder:"Search",outlined:"","prepend-inner-icon":"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("v-flex",{attrs:{small:"",shrink:""}},[a("v-btn",{attrs:{rounded:""},on:{click:e.dialogOpen}},[e._v(" Add ")])],1)],1)],1),!s&&r.results.length>0?a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{dense:"",headers:e.headers,items:r.results,search:e.search},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"project",params:{id:r.project_id}}}},[a("div",[e._v(" "+e._s(r.name))])])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                                    edit\n                                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                                delete\n                                                ")])]}},{key:"item.dashboard",fn:function(t){var r=t.item;return[a("router-link",{staticClass:"clickable",attrs:{tag:"div",to:{name:"projectWise",params:{id:r.project_id}}}},[a("div",[e._v(" Open ")])])]}}],null,!0)})],1):e._e()],1)]]]]}}])})],1)],1)},_r=[],yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("data-list",{attrs:{endpoint:"clients"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return a("div",{},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Clients",error:s,"error-messages":s?s.statusText+". Try Reloading the page":"",loading:!s&&n?n:"",items:n||s?[]:e.generateItems(r.results,"client_id"),"data-vv-name":"client_names"},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1)}}])})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:128",expression:"'required|min:6|max:128'"}],attrs:{label:"Site Address","data-vv-name":"site_address","error-messages":e.errors.collect("site_address")},model:{value:e.form.site_address,callback:function(t){e.$set(e.form,"site_address",t)},expression:"form.site_address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Godown Name","data-vv-name":"godown_name","error-messages":e.errors.collect("godown_name")},model:{value:e.form.godown_name,callback:function(t){e.$set(e.form,"godown_name",t)},expression:"form.godown_name"}})],1)],1)},kr=[],Er=a("bc3a"),jr={name:"project-form",mixins:[],components:{DataList:ae},props:{form:{type:Object,required:!0}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Er.get(this.baseUrl+"clients",{withCredentials:!0});case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.$emit("init")},data:function(){var e;return{default:(e={name:"",client_id:-1,site_address:""},Object(X["a"])(e,"client_id",-1),Object(X["a"])(e,"godown_name",""),e),extras:{clients:{data:[],loading:!0,error:!1,loaded:!1}}}},methods:{generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a}}},wr=jr,Sr=Object(l["a"])(wr,yr,kr,!1,null,null,null),Tr=Sr.exports;m()(Sr,{VFlex:h["a"],VLayout:g["a"],VSelect:me["a"],VTextField:pe["a"],VTextarea:ke["a"]});var Ir={GET:0,POST:1,PATCH:2,DELETE:3},Cr={name:"clientProjects",components:{DataList:ae,DataModel:re,sad:na,EditProject:Tr},props:{entity:{type:Object,required:!0}},mounted:function(){this.editedItem.client_id=this.entity.client_id},data:function(){return{search:"",headers:[{text:"Project ID",value:"project_id"},{text:"Name",value:"name"},{text:"Site Address",value:"site_address"},{text:"Actions",value:"actions"},{text:"Dashboard",value:"dashboard"}],snackbar:{visible:!1,state:!1,message:""},dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,endpoint:"projects",methodsEnums:Ir,editedItem:{name:"",site_address:"",client_id:-1},userMethod:""}},methods:{actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.POST},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$refs.jc.$validator.validateAll().then(function(a){if(a){var r=_.cloneDeep(t.editedItem);e.functions.create(r),t.dl_key++}});break;case this.methodsEnums.PATCH:this.$refs.jc.$validator.validateAll().then(function(a){if(a){var r=_.cloneDeep(t.editedItem);e.functions.update(r),t.dl_key++}});break;case this.methodsEnums.DELETE:e.functions.remove({project_id:this.editedItem.project_id}),this.dl_key++;break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t}}},Pr=Cr,$r=Object(l["a"])(Pr,br,_r,!1,null,null,null),Or=$r.exports;m()($r,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VProgressCircular:fr["a"],VSnackbar:ve["a"],VSpacer:S["a"]});var Dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"fill-height":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s())])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.POST||e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[[a("edit-person",{ref:"jc",attrs:{form:e.editedItem},on:{"update:form":function(t){e.editedItem=t}}})]],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(this.entity),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("v-flex",[a("data-list",{key:e.dl_key,attrs:{endpoint:"persons",entity:e.entity},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=t.error,n=t.loading;return[n?[a("v-flex",{attrs:{shrink:"","align-self-center":""}},[a("v-progress-circular",{attrs:{size:16,width:7,color:"red",indeterminate:""}})],1)]:[[[a("v-layout",{attrs:{wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs12:"","py-1":""}},[a("v-layout",{attrs:{"justify-end":""}},[a("v-flex",{attrs:{shrink:"","px-2":""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{"border-radius":"15px",padding:"2px",transform:"scale(1)","text-align":"center",border:"1px solid rgba(0,0,0,.1)",outline:"none"},attrs:{"single-line":"",type:"text",rounded:"",placeholder:"Search",outlined:"","prepend-inner-icon":"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("v-flex",{attrs:{small:"",shrink:""}},[a("v-btn",{attrs:{rounded:""},on:{click:e.dialogOpen}},[e._v(" Add ")])],1)],1)],1),!s&&r.results.length>0?a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{dense:"",headers:e.headers,items:r.results.length>0?r.results:[],search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.actionEditItem(r)}}},[e._v("\n                                                    edit\n                                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.actionDeleteItem(r)}}},[e._v("\n                                                delete\n                                                ")])]}}],null,!0)})],1):e._e()],1)]],void 0]]}}])})],1)],1)},Vr=[],Ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Name","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|min:3",expression:"'required|email|min:3'"}],attrs:{label:"Email","data-vv-name":"email","error-messages":e.errors.collect("email")},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3",expression:"'required|min:3'"}],attrs:{label:"designation","data-vv-name":"designation","error-messages":e.errors.collect("designation")},model:{value:e.form.designation,callback:function(t){e.$set(e.form,"designation",t)},expression:"form.designation"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{loading:e.extras.clients.loading,items:e.extras.clients.data,label:"Client ID","data-vv-name":"client_id","error-messages":e.errors.collect("client_id")},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{loading:e.extras.projects.loading,items:e.extras.projects.data,label:"Project ID","data-vv-name":"project_id","error-messages":e.errors.collect("project_id")},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}})],1)],1)},qr=[],Nr=a("bc3a"),Lr={name:"project-form",mixins:[],components:{DataList:ae},props:{form:{type:Object,required:!0}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nr.get(this.$config.baseUrl+"clients",{params:{}});case 2:return t=e.sent,t.data.results&&(this.extras.clients.data=this.generateItems(t.data.results,"client_id")),e.next=6,Nr({method:"GET",baseURL:this.$config.baseUrl,url:"projects",params:{client_id:this.form.client_id}});case 6:a=e.sent,a.data.results&&(this.extras.projects.data=this.generateItems(a.data.results,"project_id")),this.$emit("init");case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{default:{name:"",client_id:-1,email:"",designation:"",person_id:-1},extras:{clients:{loading:!0,error:!1,data:[]},projects:{loading:!0,error:!1,data:[]}}}},methods:{generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},getProjects:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nr({method:"GET",baseURL:this.$config.baseUrl,url:"projects",params:{client_id:this.form.client_id}});case 2:t=e.sent,t.data.results&&(this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Mr=Lr,Rr=Object(l["a"])(Mr,Ar,qr,!1,null,null,null),Hr=Rr.exports;m()(Rr,{VFlex:h["a"],VLayout:g["a"],VSelect:me["a"],VTextField:pe["a"]});var Ur={GET:0,POST:1,PATCH:2,DELETE:3},Br={name:"clientProjects",components:{DataList:ae,DataModel:re,sad:na,EditPerson:Hr},props:{entity:{type:Object,required:!0}},mounted:function(){this.editedItem.client_id=this.entity.client_id},data:function(){return{search:"",headers:[{text:"Person ID",value:"person_id"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Designation",value:"designation"},{text:"Client Name",value:"client_name"},{text:"Project Name",value:"project_name"},{text:"Actions",value:"actions"}],snackbar:{visible:!1,state:!1,message:""},dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,endpoint:"persons",methodsEnums:Ur,editedItem:{},userMethod:""}},methods:{actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.POST},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$refs.jc.$validator.validateAll().then(function(a){if(a){var r=_.cloneDeep(t.editedItem);e.functions.create(r),t.dl_key++}});break;case this.methodsEnums.PATCH:this.$refs.jc.$validator.validateAll().then(function(a){if(a){var r=_.cloneDeep(t.editedItem);e.functions.update(r),t.dl_key++}});break;case this.methodsEnums.DELETE:e.functions.remove({person_id:this.editedItem.person_id}),this.dl_key++;break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t}}},Fr=Br,Wr=Object(l["a"])(Fr,Dr,Vr,!1,null,null,null),Gr=Wr.exports;m()(Wr,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VProgressCircular:fr["a"],VSnackbar:ve["a"],VSpacer:S["a"]});var zr={extends:K,components:{clientDetails:ar,DataList:ae,DataModel:re,clientProjects:Or,clientJobcards:gr,clientPersons:Gr,notFound:Qa},data:function(){return{tab:null,state:!0,local:{client_id:0,person_id:0,project_id:0}}},methods:{test:function(){}},mounted:function(){}},Jr=zr,Yr=(a("e4fb"),a("71a3")),Qr=a("c671"),Kr=a("fe57"),Xr=a("aac8"),Zr=Object(l["a"])(Jr,Ba,Fa,!1,null,null,null),es=Zr.exports;m()(Zr,{VFlex:h["a"],VLayout:g["a"],VProgressCircular:fr["a"],VTab:Yr["a"],VTabItem:Qr["a"],VTabs:Kr["a"],VTabsItems:Xr["a"]});var ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"white elevation-2 main ",staticStyle:{"border-radius":"25px","text-align":"center"},attrs:{"pa-5":"",row:"","align-center":"","justify-center":""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n        "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[[a("edit-jobcard",{attrs:{form:e.entity},on:{"update:form":function(t){e.entity=t}}})]],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(this.entity),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{staticClass:"btns",attrs:{"justify-end":""}},[a("v-btn",{attrs:{text:"",rounded:""},on:{click:function(t){return e.print()}}},[e._v(" PRINT ")]),a("v-btn",{attrs:{text:"",rounded:""},on:{click:function(t){e.userMethod=e.methodsEnums.PATCH,e.dialog=!0}}},[e._v(" EDIT ")]),a("v-btn",{attrs:{text:"",rounded:""},on:{click:function(t){e.userMethod=e.methodsEnums.DELETE,e.dialog=!0}}},[e._v(" DELETE ")])],1)],1),a("v-flex",{staticClass:"printable",attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{staticClass:"jobcard-data-fields",attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticStyle:{border:"1px solid #000","margin-left":"-1px"},attrs:{xs6:"",md5:""}},[a("v-layout",[a("img",{staticStyle:{width:"240px"},attrs:{src:e.logo}})])],1),a("v-flex",{staticStyle:{border:"1px solid #000"},attrs:{shrink:"",xs6:"",md5:"","pa-5":""}},[a("v-layout",{attrs:{"justify-end":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])])],1),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Jobcard ID : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.jobcard_id)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Client Name : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.client_name)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Project Name : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.project_name)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Location : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.location)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Revision : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.revision)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Date : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.date)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Site supervisor : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.site_supervisor)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Location : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.location)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Autocad Engineer : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.autocad_engineer)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"body-1"},[e._v(" Plan Approved By : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.plan_approved_by)+" ")])])]),a("v-flex",{attrs:{xs12:"",md10:""}},[a("h1",{staticClass:"body-1"},[e._v(" Labour Contractor : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.labour_contractor)+" ")])])]),a("v-flex",{attrs:{xs12:"",md10:""}},[a("h1",{staticClass:"body-1",staticStyle:{opacity:"1","text-align":"left"}},[e._v(" Products ")])]),a("v-flex",{attrs:{xs12:"",md10:"","pa-2":"","my-2":""}},e._l(e.entity.products_headings,function(t,r){return a("v-layout",{key:r,staticClass:"perProduct",attrs:{wrap:"","mt-2":"","mb-2":""}},[a("v-flex",{staticStyle:{border:"1px solid #000",padding:"3px 0px 3px 14px","margin-left":"-1px","margin-top":"-1px"},attrs:{xs12:"",grow:""}},[a("h1",{staticClass:"subtitle-1"},[e._v(" "+e._s(t.heading)+"    "),a("span",{staticClass:"caption"},[e._v(" "+e._s(t.subheading)+" ")])])]),a("v-flex",{attrs:{"my-0":""}},[a("v-simple-table",{staticClass:"py-0 ptable",attrs:{dense:""}},[a("thead",[a("th",[e._v(" Name ")]),a("th",[e._v(" Quantity ")]),a("th",{staticClass:"toHide"},[e._v(" Site Stock ")]),a("th",{staticClass:"toHide"},[e._v(" Global Stock ")])]),a("tbody",e._l(t.pItems,function(t){return a("tr",[a("td",[e._v(" "+e._s(e.refProducts[t.pid]?e.refProducts[t.pid].name:"Null")+" ")]),a("td",[e._v(" "+e._s(t.quantity)+" ")]),a("td",{staticClass:"toHide"},[e._v(" "+e._s(t.site_stock)+" ")]),a("td",{staticClass:"toHide"},[e._v(" "+e._s(t.global_stock)+" ")])])}),0)])],1)],1)}),1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","my-2":"","px-0":""}})],1)},as=[],rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",e._b({attrs:{wrap:""}},"v-layout",e.$attrs,!1),[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Clients",loading:!(e.extras.clients.error||!e.extras.clients.loading)&&e.extras.clients.loading,items:e.extras.clients.loading||e.extras.clients.error?[]:e.extras.clients.data,"data-vv-name":"client_names","error-messages":e.errors.collect("client_names"),type:"search"},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Projects",loading:!(e.extras.projects.error||!e.extras.projects.loading)&&e.extras.projects.loading,items:e.extras.projects.loading||e.extras.projects.error?[]:e.extras.projects.data,"data-vv-name":"project_names","error-messages":e.errors.collect("project_names"),type:"search"},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Persons",loading:!(e.extras.persons.error||!e.extras.persons.loading)&&e.extras.persons.loading,items:e.extras.persons.loading||e.extras.persons.error?[]:e.extras.persons.data,"data-vv-name":"person_names","error-messages":e.errors.collect("person_names")},model:{value:e.form.person_id,callback:function(t){e.$set(e.form,"person_id",t)},expression:"form.person_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:128",expression:"'required|min:3|max:128'"}],attrs:{label:"Location","data-vv-name":"location","error-messages":e.errors.collect("location")},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required|min:1",expression:"'numeric|required|min:1'"}],attrs:{label:"Revision","data-vv-name":"revision","error-messages":e.errors.collect("revision")},model:{value:e.form.revision,callback:function(t){e.$set(e.form,"revision",t)},expression:"form.revision"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Site Supervisor","data-vv-name":"site_supervisor","error-messages":e.errors.collect("site_supervisor")},model:{value:e.form.site_supervisor,callback:function(t){e.$set(e.form,"site_supervisor",t)},expression:"form.site_supervisor"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Autocad Engineer","data-vv-name":"autocad_engineer","error-messages":e.errors.collect("autocad_engineer")},model:{value:e.form.autocad_engineer,callback:function(t){e.$set(e.form,"autocad_engineer",t)},expression:"form.autocad_engineer"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Plan Approved By","data-vv-name":"plan_approved_by","error-messages":e.errors.collect("plan_approved_by")},model:{value:e.form.plan_approved_by,callback:function(t){e.$set(e.form,"plan_approved_by",t)},expression:"form.plan_approved_by"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Labour Contractor","data-vv-name":"labour_contractor","error-messages":e.errors.collect("labour_contractor")},model:{value:e.form.labour_contractor,callback:function(t){e.$set(e.form,"labour_contractor",t)},expression:"form.labour_contractor"}})],1),a("v-flex",{attrs:{shrink:"","align-self-end":""}},[a("v-btn",{on:{click:e.newHeading}},[e._v(" Add Product ")])],1),e.form.products_headings.length>0?a("v-flex",{attrs:{xs12:""}},e._l(e.form.products_headings,function(t,r){return a("v-layout",{staticStyle:{"border-radius":"15px"},attrs:{wrap:"","my-0":"","pa-2":""}},[a("v-flex",{attrs:{xs12:""}},[a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Heading","data-vv-name":"heading_"+r,"error-messages":e.errors.collect("heading_"+r)},model:{value:e.form.products_headings[r].heading,callback:function(t){e.$set(e.form.products_headings[r],"heading",t)},expression:"form.products_headings[index].heading"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("h1",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:64",expression:"'required|min:3|max:64'"}],attrs:{label:"Sub-heading","data-vv-name":"subheading"+r,"error-messages":e.errors.collect("subheading"+r)},model:{value:e.form.products_headings[r].subheading,callback:function(t){e.$set(e.form.products_headings[r],"subheading",t)},expression:"form.products_headings[index].subheading"}})],1)]),e._l(t.pItems,function(s,n,i){return[a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-5",attrs:{autocomplete:"off",label:"Product","data-vv-name":"product_"+r+"_"+n,items:e.products},model:{value:e.form.products_headings[r].pItems[n].pid,callback:function(t){e.$set(e.form.products_headings[r].pItems[n],"pid",t)},expression:"form.products_headings[index].pItems[ii].pid"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{autocomplete:"off",label:"Quantity","data-vv-name":"quantity"+r+"_"+n},model:{value:e.form.products_headings[r].pItems[n].quantity,callback:function(t){e.$set(e.form.products_headings[r].pItems[n],"quantity",t)},expression:"form.products_headings[index].pItems[ii].quantity"}})],1),n==t.pItems.length-1?a("v-flex",{attrs:{xs12:"","ml-5":""}},[a("v-btn",{attrs:{small:"",rounded:"",dark:"",fab:"",color:"red"},on:{click:function(t){return e.addPitem(r)}}},[a("v-icon",[e._v(" add ")])],1)],1):e._e()]})],2)}),1):e._e()],1)},ss=[],ns={name:"jobcard-form",mixins:[],props:{form:{type:Object,required:!0}},components:{DataList:ae},data:function(){return{products:[],refProducts:{},default:{client_id:0,project_id:0,person_id:0,location:"",revision:1,date:null,site_supervisor:"",autocad_engineer:"",plan_approved_by:"",labour_contractor:"",products_headings:[]},extras:{clients:{data:[],loading:!0,error:!1,loaded:!1},projects:{data:[],loading:!0,error:!1,loaded:!1},persons:{data:[],loading:!0,error:!1,loaded:!1},products_headings:{data:[],loading:!0,error:!1,loaded:!1}},baseUrl:"http://34.83.223.211/api/v1/"}},watch:{},mounted:function(){var e=this;this.$emit("init"),this.$nextTick(function(){e.watchClientId(),e.watchProjectId()})},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,axios.get(this.baseUrl+"clients",{withCredentials:!0,params:{}});case 4:if(t=e.sent,!t){e.next=33;break}return this.extras.clients.loading=!1,this.extras.clients.error=!1,this.extras.clients.data=this.generateItems(t.data.results,"client_id"),e.prev=9,e.next=12,axios({methods:"GET",baseURL:this.$config.baseUrl,withCredentials:!0,url:"projects",params:{client_id:this.form.client_id}});case 12:if(a=e.sent,!a){e.next=28;break}return this.extras.projects.loading=!1,this.extras.projects.error=!1,this.extras.projects.data=this.generateItems(a.data.results,"project_id"),e.prev=17,e.next=20,axios.get(this.baseUrl+"persons",{withCredentials:!0,params:{project_id:this.form.project_id}});case 20:r=e.sent,r&&(this.extras.persons.loading=!1,this.extras.persons.error=!1,this.extras.persons.data=this.generateItems(r.data.results,"person_id")),e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](17),console.log("Persons -> "+e.t0),e.t0&&(this.extras.persons.error=!0);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](9),e.t1&&(this.extras.projects.error=!0);case 33:e.next=38;break;case 35:e.prev=35,e.t2=e["catch"](1),e.t2&&(extras.client.error=!0);case 38:return e.next=40,axios.get(this.baseUrl+"products",{withCredentials:!0});case 40:s=e.sent,this.products=this.generateItems(s.data.results,"product_id"),s&&(this.refProducts=this.productsToObj(s.data.results));case 43:case"end":return e.stop()}},e,this,[[1,35],[9,30],[17,24]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},watchClientId:function(){this.$watch("form.client_id",function(e,t){var a=this;e&&(this.form.project_id=null,this.form.person_id=null,axios.get(this.baseUrl+"projects",{withCredentials:!0,params:{client_id:this.form.client_id}}).then(function(e){a.extras["projects"].data=a.generateItems(e.data.results,"project_id"),a.extras["projects"].loading=!1,a.extras["projects"].error=!1}).catch(function(e){a.extras["projects"].error=!0,a.extras["projects"].loading=!1,a.extras["projects"].data=[]}),axios.get(this.baseUrl+"persons",{withCredentials:!0,params:{client_id:this.form.client_id}}).then(function(e){a.extras["persons"].data=a.generateItems(e.data.results,"person_id"),a.extras["persons"].loading=!1,a.extras["persons"].error=!1}).catch(function(e){a.extras["persons"].error=!0,a.extras["persons"].loading=!1,a.extras["persons"].data=[]}))})},watchProjectId:function(){this.$watch("form.project_id",function(e,t){})},newHeading:function(){var e={heading:"",subheading:"",pItems:[{pid:-1,quantity:0}]};this.form.products_headings.push(e)},addPitem:function(e){var t={pid:-1,quantity:0};this.form.products_headings[e].pItems.push(t)},formSubmit:function(){this.$validator.validateAll().then(function(e){})},validate:function(){var e=this;return new Promise(function(t,a){e.$validator.validateAll().then(function(a){t(e.form)}).catch(function(e){a(e)})})},cloneData:function(e,t,a){this.extras[t].data=this.generateItems(e.data.results,a),this.extras[t].loading=!0},cloneError:function(e){this.extras.clients.error=!0,this.extras.clients.loading=!1},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a}}},is=ns,os=Object(l["a"])(is,rs,ss,!1,null,null,null),cs=os.exports;m()(os,{VAutocomplete:$e["a"],VBtn:p["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VTextField:pe["a"]});var ds={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(ds);var ls={extends:K,components:{DataList:ae,DataModel:re,EditJobcard:cs},props:{},data:function(){return{baseUrl:"http://34.83.223.211/api/v1/",logo:a("5b62"),products:[],refProducts:{},style:{parent:{backgrosund:"#F4F5F6",bordesrRadius:"15px",padding:"0px"},heading:{opacity:".7"},subheading:{opacity:".5"}},entity:{},backupEntity:{},state:{error:!1},endpoint:"jobcards",userMethod:0,dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,methodsEnums:ds,snackbar:{visible:!1,state:!1,message:""}}},computed:{formTitle:function(){}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios({method:"GET",baseURL:this.$config.baseUrl,url:"jobcards/stock",params:{jobcard_id:this.$route.params.id}});case 3:t=e.sent,t&&(this.entity=Object.assign({},t.data.results[0]),this.entity.product_headings=JSON.parse(this.entity.product_headings)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0&&(this.state.error=!0);case 10:return e.next=12,axios.get(this.baseUrl+"products");case 12:a=e.sent,this.products=this.generateItems(a.data.results,"product_id"),a&&(this.refProducts=this.productsToObj(a.data.results));case 15:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.entity.project_id=Number(this.entity.project_id),this.entity.person_id=Number(this.entity.person_id)},methods:{print:function(){window.print()},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.PATCH},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.entity)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){if(a){var r=ut.a.cloneDeep(t.entity);r.products_headings=JSON.stringify(r.products_headings),e.functions.update(r)}});break;case this.methodsEnums.DELETE:e.functions.remove({jobcard_id:this.entity.jobcard_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},us=ls,ms=(a("5304"),a("1f4f")),vs=Object(l["a"])(us,ts,as,!1,null,null,null),ps=vs.exports;m()(vs,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDialog:ue["a"],VFlex:h["a"],VLayout:g["a"],VSimpleTable:ms["a"],VSnackbar:ve["a"],VSpacer:S["a"]});var hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-dialog",{key:e.dialog_key,attrs:{"max-width":e.dynamicWidth},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{attrs:{row:"",wrap:e.$vuetify.breakpoint.smAndDown,"justify-end":e.$vuetify.breakpoint.lgAndUp,"justify-center":e.$vuetify.breakpoint.smAndDown,"pr-5":""}},[a("v-flex",{attrs:{xs6:e.$vuetify.breakpoint.smAndDown,"px-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" "+e._s(e.firstCharUpperCase(e.$route.name))+" ")])]),a("v-flex",{attrs:{xs12:"",lg5:"",shrink:"","mb-5":e.$vuetify.breakpoint.smAndDown}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs6:"",lg2:"",shrink:"","mt-5":e.$vuetify.breakpoint.smAndDown}},[a("v-btn",{staticClass:"hover-btn mb-2",staticStyle:{"background-image":"linear-gradient(to right, #e53935 0%, #e35d5b 51%, #e53935 100%)"},attrs:{medium:"",dark:"",color:"black",rounded:""},on:{click:function(t){t.stopPropagation(),++e.dialog_key,e.dialog=!0,e.userMethod=e.methodsEnums.POST}}},[e._v("New Item")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}}),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint+"/product/"+e.$route.params.id},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=(t.error,t.loading);return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{"sort-by":e.table.sortBy,"sort-desc":e.table.sortDesc,loading:s,headers:e.headers,items:r.result,options:e.options,search:e.search},on:{"update:sortBy":function(t){return e.$set(e.table,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.table,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.table,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.table,"sortDesc",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.total_amount",fn:function(t){return[e._v("\n                                 "+e._s(e._f("currency")(t.item.total_amount))+"\n                            \n                            ")]}}],null,!0)})],1)}}])})],1)],1)},fs=[],xs={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(xs);var gs={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"inventory",extras:{products:{data:[],loading:!0,error:!1,loaded:!1},projects:{loading:!0,error:!1,data:[]}},search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Inventory ID",value:"inventory_id"},{text:"Product name",value:"product_name"},{text:"Type",value:"inventory_type"},{text:"Project Name",value:"project_name"},{text:"Stock",value:"stock"},{text:"Avg Rate",value:"avg_rate"},{text:"Total Amount",value:"total_amount"}],enums:{type:["purchase","selling","trade"]},editedIndex:-1,editedItem:{},defaultItem:{project_id:null,product_id:null,stock:null,avg_rate:null,type:1},snackbar:{visible:!1,state:!1,message:""},methodsEnums:xs,userMethod:0,table:{sortBy:"",sortDesc:!1}}},computed:{dynamicWidth:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return"100%";case"md":return"80%";case"lg":return"50%";case"xl":return"50%"}},formTitle:function(){switch(this.userMethod){case this.methodsEnums.POST:return"New Item";case this.methodsEnums.PATCH:return"Update Item";case this.methodsEnums.DELETE:return"Delete Item";default:return"Invalid State"}}},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.getProjects(),this.getProducts();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getProjects:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"projects",params:{}});case 2:t=e.sent,t.data.results&&(this.extras.projects.loading=!1,this.extras.projects.data=this.generateItems(t.data.results,"project_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getProducts:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"products",params:{}});case 2:t=e.sent,t.data.results&&(this.extras.products.loading=!1,this.extras.products.data=this.generateItems(t.data.results,"product_id"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getItems:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),generateInstance:function(){},listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]},generateItems:function(e,t){var a=[];return a.push({text:"none",value:null}),e.forEach(function(e,r){a.push({text:e.name,value:e[t]})}),a},keyHack:function(){return++this.dialog_key},generateIterable:function(e){var t=[];for(var a in e){var r=e[a];r.ignore||t.push(r)}return t},generateHeaders:function(e){var t=[];for(var a in e){var r=e[a],s=r.text,n=r.value;t.push({text:s,value:n})}return t.push({text:"Actions",value:"actions"}),t},actionEditItem:function(e){this.userMethod=this.methodsEnums.PATCH,this.editedItem=Object.assign({},e),this.editedItem.unit_id=String(e.unit_id),this.editedItem.type=String(e.type),this.dialog=!0},actionDeleteItem:function(e){this.userMethod=this.methodsEnums.DELETE,this.editedItem=Object.assign({},e),this.dialog=!0},dialogClose:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},dialogSave:function(e){var t=this;switch(this.userMethod){case this.methodsEnums.POST:this.$validator.validateAll().then(function(a){a&&e.functions.create(t.editedItem)});break;case this.methodsEnums.PATCH:this.$validator.validateAll().then(function(a){a&&e.functions.update(t.editedItem)});break;case this.methodsEnums.DELETE:e.functions.remove({inventory_id:this.editedItem.inventory_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},bs=gs,_s=(a("4b7b"),Object(l["a"])(bs,hs,fs,!1,null,null,null)),ys=_s.exports;m()(_s,{VBtn:p["a"],VDataTable:le["a"],VDialog:ue["a"],VFlex:h["a"],VLayout:g["a"],VTextField:pe["a"]});var ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px","text-align":"center"},attrs:{"pa-5":"",row:""}},[a("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.state?"success":"error"},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[e._v(" \n            "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar.visible=!1}}},[e._v("Close")])],1),a("v-dialog",{key:e.dialog_key,attrs:{"max-width":"80%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),e._v("\nz\n                    "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[e.userMethod==e.methodsEnums.PATCH?a("v-layout",{attrs:{wrap:""}},[[a("edit-po",{ref:"poRef",attrs:{form:e.entity,products:e.products,refProducts:e.refProducts},on:{"update:form":function(t){e.entity=t}}})]],2):e.userMethod==e.methodsEnums.DELETE?a("v-layout",{staticStyle:{background:"rgba(0,0,0,.15)","border-radius":"12px"},attrs:{wrap:""}},e._l(Object.values(this.entity),function(t,r){return a("v-flex",{staticClass:"pa-2"},[e._v(" "+e._s(t)+" \n                                ")])}),1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("data-model",{attrs:{endpoint:e.endpoint},on:{success:function(t){return e.postSuccess()},error:function(t){return e.postError()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.remove,s=(t.data,t.loading),n=t.create,i=t.update;t.error;return a("div",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogClose}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",loading:s,text:""},on:{click:function(t){return e.dialogSave({functions:{create:n,remove:r,update:i}})}}},[e._v(" "+e._s(e.methodToStringPresent(e.userMethod))+" ")])],1)}}])})],1)],1)],1),a("v-flex",{attrs:{xs12:""}}),a("v-flex",{staticClass:"printable",attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-end":""}},[a("v-btn",{attrs:{text:"",rounded:""},on:{click:function(t){e.userMethod=e.methodsEnums.PATCH,e.dialog=!0}}},[e._v(" EDIT ")]),a("v-btn",{attrs:{text:"",rounded:""},on:{click:function(t){e.userMethod=e.methodsEnums.DELETE,e.dialog=!0}}},[e._v(" DELETE ")])],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{staticClass:"jobcard-data-fields",attrs:{"justify-center":"",row:"",wrap:""}},[a("v-flex",{staticStyle:{border:"1px solid #000","margin-left":"-1px"},attrs:{xs6:"",md5:""}},[a("v-layout",[a("img",{staticStyle:{width:"240px"},attrs:{src:e.logo}})])],1),a("v-flex",{attrs:{xs6:"",md5:"","pa-5":""}},[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6","text-align":"right"}},[e._v(" Purchase Order ")])]),a("v-flex",{attrs:{xs6:"",md5:"","justify-space-around":""}},[a("h1",{staticClass:"title"},[e._v(" Purchase Order ID : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.po_id)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Vendor Name : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.vendor_name)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Subject : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.subject)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Date : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e._f("formatDate")(e.entity.date))+" ")])])]),a("v-flex",{attrs:{xs12:"",md10:""}},[a("h1",{staticClass:"body-1",staticStyle:{opacity:"1","text-align":"left"}},[e._v(" Products ")])]),a("v-flex",{attrs:{xs12:"",md10:"","pa-0":"","my-0":"",stsyle:e.style.parent}},[a("v-simple-table",{staticClass:"py-0 ptable"},[a("thead",[a("th",[e._v(" Product Name ")]),a("th",[e._v(" Quantity ")]),a("th",[e._v(" Avg Rate ")]),a("th",[e._v(" Delivered ")]),a("th",[e._v(" Project Address ")])]),a("tbody",e._l(e.entity.products,function(t){return a("tr",[a("td",[e._v(" "+e._s(t.product_name)+" ")]),a("td",[e._v(" "+e._s(t.quantity)+" ")]),a("td",[e._v(" "+e._s(t.avg_rate)+" ")]),a("td",[e._v(" "+e._s(t.delivered)+" ")]),a("td",[e._v(" "+e._s(t.site_address)+" ")])])}),0)])],1),a("v-flex",{attrs:{xs12:"",md10:""}},[a("h1",{staticClass:"subtitle-1",staticStyle:{opacity:"1","text-align":"left"}},[e._v(" Terms Of Service ")])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Payment : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.payment)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Remarks : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.remarks)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Tax Type : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.tax_type)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Warranty : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.warranty)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Tax Price : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.tax_price)+" ")])])]),a("v-flex",{attrs:{xs6:"",md5:""}},[a("h1",{staticClass:"title"},[e._v(" Freight Tax : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.freight_tax)+" ")])])]),a("v-flex",{attrs:{xs12:"",md10:""}},[a("h1",{staticClass:"title"},[e._v(" Delivery Period : "),a("span",{staticClass:"innerValue"},[e._v(" "+e._s(e.entity.tac.delivery_period)+" ")])])])],1)],1)],1)},Es=[],js={GET:0,POST:1,PATCH:2,DELETE:3};Object.freeze(js);var ws={extends:K,components:{DataList:ae,DataModel:re,EditPo:dt},props:{},data:function(){return{logo:a("5b62"),style:{parent:{background:"#F4F5F6",borderRadius:"15px"},heading:{opacity:".7"},subheading:{opacity:".5"}},entity:{},state:{error:!1},products:[],refProducts:[],endpoint:"purchase-orders",userMethod:0,dialog:!1,dialog_key:555,dl_key:55,dialog_loading:!1,methodsEnums:js,snackbar:{visible:!1,state:!1,message:""},baseUrl:"http://34.83.223.211/api/v1/"}},computed:{formTitle:function(){}},created:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios({method:"GET",baseURL:this.$config.baseUrl,url:"purchase-orders",params:{po_id:this.$route.params.id},withCredentials:!0});case 3:t=e.sent,t&&(this.entity=Object.assign({},t.data.result[0]),this.entity.products=JSON.parse(this.entity.products),this.entity.products||(this.entity.products=[])),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0&&(this.state.error=!0);case 10:return e.next=12,axios.get(this.baseUrl+"products",{withCredentials:!0});case 12:a=e.sent,this.products=this.generateItems(a.data.results,"product_id"),a&&(this.refProducts=this.productsToObj(a.data.results));case 15:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.entity.project_id=Number(this.entity.project_id),this.entity.person_id=Number(this.entity.person_id)},methods:{productsToObj:function(e){var t={};return Object.keys(e).forEach(function(a,r,s){t[Number(e[a].product_id)]=e[a]}),t},generateItems:function(e,t){var a=[];return e.forEach(function(e,r){a.push({text:e.name,value:Number(e[t])})}),a},dialogOpen:function(){this.dialog=!0,this.userMethod=this.methodsEnums.PATCH},dialogClose:function(){this.dialog=!1},dialogSave:function(e){var t=ut.a.cloneDeep(this.entity);switch(t.products=JSON.stringify(t.products),void 0!=t.tac.freight_tax&&""!=t.tac.freight_tax&&null!=t.tac.freight_tax||delete t.tac.freight_tax,t.tac=JSON.stringify(t.tac),this.userMethod){case this.methodsEnums.POST:this.$refs.poRef.$validator.validateAll().then(function(a){a&&e.functions.create(t)});break;case this.methodsEnums.PATCH:this.$refs.poRef.$validator.validateAll().then(function(a){a&&e.functions.update(t)});break;case this.methodsEnums.DELETE:e.functions.remove({po_id:this.entity.po_id});break}},postSuccess:function(){this.snackbar.message="Successfully ".concat(this.methodToString(this.userMethod)," a project"),this.snackbar.state=!0,this.snackbar.visible=!0,++this.dl_key,this.dialogClose(),this.reloadData()},postError:function(){this.snackbar.state=!1,this.snackbar.visible=!0,this.snackbar.message="Something Went Wrong. Try again later"},reloadData:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"GET",baseURL:this.$config.baseUrl,url:"purchase-orders",params:{po_id:this.$route.params.id},withCredentials:!0});case 2:t=e.sent,t&&(this.entity=Object.assign({},t.data.result[0]),this.entity.products=JSON.parse(this.entity.products));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methodToString:function(e){switch(e){case this.methodsEnums.POST:return"added";case this.methodsEnums.PATCH:return"updated";case this.methodsEnums.DELETE:return"deleted"}},methodToStringPresent:function(e){switch(e){case this.methodsEnums.POST:return"add";case this.methodsEnums.PATCH:return"update";case this.methodsEnums.DELETE:return"delete"}}}},Ss=ws,Ts=(a("bb52"),Object(l["a"])(Ss,ks,Es,!1,null,null,null)),Is=Ts.exports;m()(Ts,{VBtn:p["a"],VCard:oe["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:de["a"],VDialog:ue["a"],VFlex:h["a"],VLayout:g["a"],VSimpleTable:ms["a"],VSnackbar:ve["a"],VSpacer:S["a"]});var Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-layout",{attrs:{"pa-4":"","justify-end":""}},[a("v-flex",[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e._v(" Product Wise ")])]),a("v-flex",{attrs:{lg6:"",shrink:""}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){t.data,t.error;var r=t.loading;return a("div",{},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{loading:r,headers:e.headers,items:e.items,search:e.search},scopedSlots:e._u([{key:"item.status",fn:function(t){var r=t.item;return[r.status>0?[a("div",{staticStyle:{color:"green"}},[a("span",{staticClass:"body-2"},[e._v(e._s(e._f("currency")(r.status,"")))]),a("v-icon",{staticClass:"ml-1",staticStyle:{transform:"rotate(-90deg)"},attrs:{color:"green",size:"20px"}},[e._v(" play_arrow ")])],1)]:[a("div",{staticStyle:{color:"red"}},[a("span",{staticClass:"body-2"},[e._v(e._s(e._f("currency")(r.status,"")))]),a("v-icon",{staticClass:"ml-1",staticStyle:{transform:"rotate(90deg)"},attrs:{color:"red",size:"20px"}},[e._v(" play_arrow ")])],1)]]}},{key:"item.jobcard_quantity",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(e._f("currency")(a.jobcard_quantity,""))+"\n                            ")]}},{key:"item.avg_rate",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(e._f("currency")(a.avg_rate,""))+"\n                            ")]}},{key:"item.stock",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(e._f("currency")(a.stock,""))+"\n                            ")]}},{key:"item.cost",fn:function(t){var r=t.item;return[r.cost?a("div",{staticStyle:{background:"#dfecf3",color:"#356179",padding:"3px 6px 3px 6px","border-radius":"6px",display:"inline"}},[e._v("\n                                    "+e._s(e._f("currency")(r.cost,""))+"\n                                ")]):e._e()]}}],null,!0)})],1)}}])})],1)],1)},Ps=[],$s={extends:K,components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"inventory/productWise",search:"",dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Product Name",value:"product_name"},{text:"Stock",value:"stock"},{text:"Jobcard Requirement",value:"jobcard_quantity"},{text:"Status",value:"status"}],editedIndex:-1,editedItem:{godown_id:0,name:"",address:"",client_name:"",client_id:null},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0},snackbar:{visible:!1,state:!1,message:""}}},computed:{},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]}}},Os=$s,Ds=(a("7ee0"),Object(l["a"])(Os,Cs,Ps,!1,null,null,null)),Vs=Ds.exports;m()(Ds,{VDataTable:le["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VTextField:pe["a"]});var As=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","pa-5":""}},[a("v-flex",{staticClass:"white elevation-2",staticStyle:{"border-radius":"25px"},attrs:{xs12:"","py-5":""}},[a("v-layout",{attrs:{"pa-4":"","justify-end":""}},[a("v-flex",[a("h1",{staticClass:"display-1",staticStyle:{opacity:".6"}},[e.items.length>0?[e._v("\n                             "+e._s(e.items[0].project_name)+"\n                        ")]:e._e()],2)]),a("v-flex",{attrs:{lg6:"",shrink:""}},[a("v-text-field",{staticStyle:{height:"14px !important",transform:"scale(0.75)"},attrs:{"single-line":"",rounded:"",label:"Search",outlined:"","prepend-inner-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("data-list",{key:e.dl_key,attrs:{endpoint:e.endpoint+"/"+e.$route.params.id},on:{success:e.listSuccess,error:e.listError},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data,s=(t.error,t.loading);return a("div",{attrs:{ab:e.$set(e.dataG,r.results)}},[a("v-data-table",{staticClass:"elevation-0",style:{borderRadius:"15px !important"},attrs:{loading:s,headers:e.headers,items:e.items,search:e.search},scopedSlots:e._u([{key:"item.status",fn:function(t){var r=t.item;return[r.status>0?[a("div",{staticStyle:{color:"green"}},[a("span",{staticClass:"body-2"},[e._v(e._s(e._f("currency")(r.status,"")))]),a("v-icon",{staticClass:"ml-1",staticStyle:{transform:"rotate(-90deg)"},attrs:{color:"green",size:"20px"}},[e._v(" play_arrow ")])],1)]:[a("div",{staticStyle:{color:"red"}},[a("span",{staticClass:"body-2"},[e._v(e._s(e._f("currency")(r.status,"")))]),a("v-icon",{staticClass:"ml-1",staticStyle:{transform:"rotate(90deg)"},attrs:{color:"red",size:"20px"}},[e._v(" play_arrow ")])],1)]]}},{key:"item.jobcard_quantity",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(e._f("currency")(a.jobcard_quantity,""))+"\n                            ")]}},{key:"item.avg_rate",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(e._f("currency")(a.avg_rate,""))+"\n                            ")]}},{key:"item.stock",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(e._f("currency")(a.stock,""))+"\n                            ")]}},{key:"item.cost",fn:function(t){var r=t.item;return[r.cost?a("div",{staticStyle:{background:"#dfecf3",color:"#356179",padding:"3px 6px 3px 6px","border-radius":"6px",display:"inline"}},[e._v("\n                                    "+e._s(e._f("currency")(r.cost,""))+"\n                                ")]):e._e()]}}],null,!0)})],1)}}])})],1)],1)},qs=[],Ns={extends:K,name:"projectWise",components:{DataList:ae,DataModel:re},data:function(){return{endpoint:"inventory/projectWise",search:"",dataG:[],dialog:!1,dialog_key:0,dl_key:55,dialog_loading:!1,items:[],options:{},headers:[{text:"Product Name",value:"product_name"},{text:"Stock",value:"stock"},{text:"Jobcard Requirement",value:"jobcard_quantity"},{text:"Status",value:"status"}],editedIndex:-1,editedItem:{godown_id:0,name:"",address:"",client_name:"",client_id:null},defaultItem:{project_id:0,name:"",site_address:"",client_name:"",client_id:0},snackbar:{visible:!1,state:!1,message:""}}},computed:{},watch:{dialog:function(e){e||this.dialogClose()}},mounted:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{listSuccess:function(e){this.items=e.data.results},listError:function(e){this.items=[]}}},Ls=Ns,Ms=(a("48e4"),Object(l["a"])(Ls,As,qs,!1,null,null,null)),Rs=Ms.exports;m()(Ms,{VDataTable:le["a"],VFlex:h["a"],VIcon:f["a"],VLayout:g["a"],VTextField:pe["a"]});var Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},Us=[],Bs={},Fs=Bs,Ws=Object(l["a"])(Fs,Hs,Us,!1,null,null,null),Gs=Ws.exports;r["a"].use(H["a"]);var zs=new H["a"]({mode:"history",base:"/",routes:[{path:"/home",name:"home",component:z},{path:"/",name:"login",component:Pa},{path:"/clients",name:"clients",component:fe},{path:"/users",name:"users",component:Ua},{path:"/clients/:id",name:"client",component:es},{path:"/godowns",name:"godown",component:je},{path:"/projects",name:"projects",component:Ke},{path:"/projects/:id",name:"project",component:ft},{path:"/persons",name:"persons",component:Pt},{path:"/Jobcards",name:"jobcards",component:Fe},{path:"/jobcards/:id",name:"jobcard",component:ps},{path:"/products",name:"products",component:Et},{path:"/inventory",name:"inventories",component:Nt},{path:"/inventory/:id",name:"inventory",component:ys},{path:"/vendors",name:"vendors",component:Ft},{path:"/purchase-orders",name:"PurchaseOrder",component:Kt},{path:"/purchase-orders/:id",name:"po",component:Is},{path:"/stock-transfer",name:"StockTransfer",component:fa},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/projectWise/:id",name:"projectWise",component:Rs},{path:"/productWise",name:"productWise",component:Vs},{path:"/jobcardWise",name:"jobcardWise",component:Gs}]}),Js=a("2f62");r["a"].use(Js["a"]);var Ys=new Js["a"].Store({state:{},mutations:{},actions:{}}),Qs=a("f309");a("d1e7");r["a"].use(Qs["a"]);var Ks=new Qs["a"]({icons:{iconfont:"mdi"}}),Xs=a("7bb1"),Zs=a("6365");r["a"].prototype.$config={baseUrl:"http://34.83.223.211/api/v1/"};var en=a("ba05"),tn=a("a7c6"),an=a.n(tn);r["a"].use(Qs["a"]),r["a"].use(Xs["a"]),r["a"].use(Zs["a"]),r["a"].prototype.$moment=rt.a,r["a"].use(en["a"]),window.axios=mr.a,mr.a.defaults.withCredentials=!0,r["a"].use(an.a),r["a"].config.productionTip=!1,r["a"].filter("formatDate",function(e){return e?rt()(e).format("DD/MM/YYYY"):""}),zs.beforeEach(function(e,t,a){a()}),zs.beforeResolve(function(e,t,a){a()});new r["a"]({router:zs,store:Ys,vuetify:Ks,data:{$loggedIn:!1},render:function(e){return e(R)}}).$mount("#app")},"5b62":function(e,t,a){e.exports=a.p+"img/logo.b8ee50b7.png"},"653e":function(e,t,a){"use strict";var r=a("4600"),s=a.n(r);s.a},"66c0":function(e,t,a){"use strict";var r=a("c904"),s=a.n(r);s.a},"67d7":function(e,t,a){"use strict";var r=a("c6b1"),s=a.n(r);s.a},"7dc6":function(e,t,a){},"7ee0":function(e,t,a){"use strict";var r=a("8427"),s=a.n(r);s.a},"824f":function(e,t,a){},8427:function(e,t,a){},8702:function(e,t,a){"use strict";var r=a("0fb5"),s=a.n(r);s.a},a46c:function(e,t,a){"use strict";var r=a("b0de"),s=a.n(r);s.a},aca8:function(e,t,a){},ad81:function(e,t,a){},b0de:function(e,t,a){},b2f4:function(e,t,a){"use strict";var r=a("ca88"),s=a.n(r);s.a},b6ca:function(e,t,a){"use strict";var r=a("7dc6"),s=a.n(r);s.a},bb52:function(e,t,a){"use strict";var r=a("5636"),s=a.n(r);s.a},bb8f:function(e,t,a){"use strict";var r=a("ad81"),s=a.n(r);s.a},c339:function(e,t,a){},c6b1:function(e,t,a){},c904:function(e,t,a){},ca07:function(e,t,a){},ca88:function(e,t,a){},da94:function(e,t,a){},e089:function(e,t,a){},e4fb:function(e,t,a){"use strict";var r=a("e089"),s=a.n(r);s.a},e63a:function(e,t,a){"use strict";var r=a("ca07"),s=a.n(r);s.a}});
//# sourceMappingURL=app.897ff90c.js.map